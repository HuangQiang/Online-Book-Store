  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>#<BigDecimal:479be78,'0.999E1',8(8)>, "created_at"=>Tue, 09 Aug 2011 07:02:25 UTC +00:00, "title"=>"MyString", "image_url"=>"MyString", "updated_at"=>Tue, 09 Aug 2011 07:02:25 UTC +00:00, "id"=>980190962, "description"=>"MyText"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'MyString') LIMIT 1
Rendered products/_form.html.erb (31.2ms)
Rendered products/new.html.erb within layouts/application (31.2ms)
Completed 200 OK in 109ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products"
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 62ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>#<BigDecimal:4603878,'0.999E1',8(8)>, "created_at"=>Tue, 09 Aug 2011 07:02:25 UTC +00:00, "title"=>"MyString", "image_url"=>"MyString", "updated_at"=>Tue, 09 Aug 2011 07:02:25 UTC +00:00, "id"=>980190962, "description"=>"MyText"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'MyString') AND ("products".id <> 980190962) LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "price", "updated_at", "description", "title", "created_at") VALUES ('lorem.jpg', 19.95, '2011-08-09 07:17:07.718750', 'Wibbles are fun!', 'Lorem Ipsum', '2011-08-09 07:17:07.718750')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "price" = 19.95, "updated_at" = '2011-08-09 07:17:08.015625', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "price", "updated_at", "description", "title", "created_at") VALUES ('lorem.jpg', 19.95, '2011-08-09 08:00:55.062500', 'Wibbles are fun!', 'Lorem Ipsum', '2011-08-09 08:00:55.062500')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "price" = 19.95, "updated_at" = '2011-08-09 08:00:55.359375', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "image_url", "created_at", "title", "description", "price") VALUES ('2011-07-13 09:32:13.885485', 'lorem.jpg', '2011-07-13 09:32:13.885485', 'Lorem Ipsum', 'Wibbles are fun!', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 50ms
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 5ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (13.0ms)
Completed 200 OK in 68ms (Views: 66.0ms | ActiveRecord: 9.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 85ms (Views: 84.0ms | ActiveRecord: 2.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 25ms (Views: 25.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "updated_at" = '2011-07-13 09:32:14.181502', "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "price" = 19.95 WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 27ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("description", "updated_at", "price", "image_url", "title", "created_at") VALUES ('Wibbles are fun!', '2011-07-14 00:43:41.518534', 19.95, 'lorem.jpg', 'Lorem Ipsum', '2011-07-14 00:43:41.518534')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 78ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 5ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (13.0ms)
Completed 200 OK in 91ms (Views: 89.0ms | ActiveRecord: 5.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 96ms (Views: 93.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 26ms (Views: 26.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "updated_at" = '2011-07-14 00:43:41.861553', "price" = 19.95, "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("image_url", "title", "created_at", "description", "updated_at", "price") VALUES ('lorem.jpg', 'Lorem Ipsum', '2011-07-14 01:09:35.755431', 'Wibbles are fun!', '2011-07-14 01:09:35.755431', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 23ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 61ms (Views: 60.0ms | ActiveRecord: 7.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 88ms (Views: 86.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 26ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-14 01:09:36.031447', "price" = 19.95 WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (1.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "image_url", "price", "description", "title") VALUES ('2011-07-14 01:20:30.694891', '2011-07-14 01:20:30.694891', 'lorem.jpg', 19.95, 'Wibbles are fun!', 'Lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 23ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 7.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 97ms (Views: 96.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  UPDATE "products" SET "updated_at" = '2011-07-14 01:20:30.997909', "image_url" = 'lorem.jpg', "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("description", "title", "created_at", "price", "image_url", "updated_at") VALUES ('Wibbles are fun!', 'Lorem Ipsum', '2011-07-14 06:20:33.694604', 19.95, 'lorem.jpg', '2011-07-14 06:20:33.694604')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 54ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 75ms (Views: 74.0ms | ActiveRecord: 11.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 88ms (Views: 87.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 26ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "price" = 19.95, "image_url" = 'lorem.jpg', "updated_at" = '2011-07-14 06:20:34.017623' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 3.0ms)
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "title", "description", "created_at", "image_url", "price") VALUES ('2011-07-14 06:23:49.960830', 'Lorem Ipsum', 'Wibbles are fun!', '2011-07-14 06:23:49.960830', 'lorem.jpg', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 23ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 61ms (Views: 59.0ms | ActiveRecord: 8.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 89ms (Views: 87.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 25ms (Views: 25.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  UPDATE "products" SET "updated_at" = '2011-07-14 06:23:50.234846', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95 WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 3.0ms)
  [1m[35mSQL (1.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("image_url", "price", "created_at", "title", "description", "updated_at") VALUES ('lorem.jpg', 19.95, '2011-07-14 06:26:54.850405', 'Lorem Ipsum', 'Wibbles are fun!', '2011-07-14 06:26:54.850405')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 23ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 62ms (Views: 61.0ms | ActiveRecord: 11.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 90ms (Views: 88.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 26ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "price" = 19.95, "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-14 06:26:55.131421' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 3.0ms)
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "updated_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-14 07:01:01.000000', '2011-07-14 07:01:01.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/carts
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (9.0ms)
Completed 200 OK in 62ms (Views: 61.0ms | ActiveRecord: 7.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "updated_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-14 07:01:02.062499', '2011-07-14 07:01:02.062499')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "cart_id", "updated_at", "product_id") VALUES ('2011-07-14 07:01:02.126502', 980190963, '2011-07-14 07:01:02.126502', 207281424)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 71ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 7.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 23ms (Views: 22.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "product_id"=>1, "updated_at"=>Thu, 14 Jul 2011 07:01:01 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "products" ("description", "title", "image_url", "created_at", "updated_at", "price") VALUES ('Wibbles are fun!', 'Lorem Ipsum', 'lorem.jpg', '2011-07-14 07:01:02.359516', '2011-07-14 07:01:02.359516', 19.95)
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed   in 2ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 6.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 90ms (Views: 88.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "image_url" = 'lorem.jpg', "updated_at" = '2011-07-14 07:01:02.608530', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 10ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 36ms (Views: 35.0ms | ActiveRecord: 3.0ms)
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "updated_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-14 07:12:00.000000', '2011-07-14 07:12:00.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/carts
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (10.0ms)
Completed 200 OK in 72ms (Views: 70.0ms | ActiveRecord: 10.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "updated_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 5ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-14 07:12:00.579164', '2011-07-14 07:12:00.579164')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "line_items" ("cart_id", "updated_at", "product_id", "created_at") VALUES (980190963, '2011-07-14 07:12:00.648168', 207281424, '2011-07-14 07:12:00.648168')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 77ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (6.0ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 5.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "product_id"=>1, "updated_at"=>Thu, 14 Jul 2011 07:12:00 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "products" ("image_url", "updated_at", "title", "price", "description", "created_at") VALUES ('lorem.jpg', '2011-07-14 07:12:00.900182', 'Lorem Ipsum', 19.95, 'Wibbles are fun!', '2011-07-14 07:12:00.900182')
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 9ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 9.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 113ms (Views: 112.0ms | ActiveRecord: 2.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 2.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "updated_at" = '2011-07-14 07:12:01.188199', "title" = 'Lorem Ipsum', "price" = 19.95, "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 10ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 36ms (Views: 35.0ms | ActiveRecord: 4.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:18:41.000000', '2011-07-20 05:18:41.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:33:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 73ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (3.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:33:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
Rendered collection (0.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:22:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:28:in `test_should_show_cart'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 67ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:18:42.384972', '2011-07-20 05:18:42.384972')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "product_id", "cart_id", "quantity", "updated_at") VALUES ('2011-07-20 05:18:42.400973', 207281424, 980190963, 1, '2011-07-20 05:18:42.400973')
Redirected to http://test.host/
Completed 302 Found in 20ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (5.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:33:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 43ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (5.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:28:in `test_should_show_line_item'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mLineItem Load (2.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 05:18:41 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "products" ("updated_at", "price", "image_url", "created_at", "description", "title") VALUES ('2011-07-20 05:18:42.593984', 19.95, 'lorem.jpg', '2011-07-20 05:18:42.593984', 'Wibbles are fun!', 'Lorem Ipsum')
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:40:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 44ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:16:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 95ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:22:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 21ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:35:in `test_should_show_product'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "updated_at" = '2011-07-20 05:18:42.831997', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:18:42.843998', '2011-07-20 05:18:42.843998')
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52865064_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:23: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:38: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52865064_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:38:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__849683412__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/store_controller_test.rb:5:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:434:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 28ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:31:49.000000', '2011-07-20 05:31:49.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:33:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 83ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (1.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:33:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 16ms
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
Rendered collection (0.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:22:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:28:in `test_should_show_cart'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 76ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:31:49.533994', '2011-07-20 05:31:49.533994')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "quantity", "created_at", "updated_at", "product_id") VALUES (980190963, 1, '2011-07-20 05:31:49.560995', '2011-07-20 05:31:49.560995', 207281424)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:31:49.575996', '2011-07-20 05:31:49.575996')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "quantity", "created_at", "updated_at", "product_id") VALUES (980190963, 1, '2011-07-20 05:31:49.579997', '2011-07-20 05:31:49.579997', 207281424)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (12.0ms)
Completed   in 104ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (5.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:42:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 46ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:37:in `test_should_show_line_item'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 05:31:49 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "products" ("description", "price", "created_at", "image_url", "title", "updated_at") VALUES ('Wibbles are fun!', 19.95, '2011-07-20 05:31:49.858012', 'lorem.jpg', 'Lorem Ipsum', '2011-07-20 05:31:49.858012')
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (6.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:40:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 40ms
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:16:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 69ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:22:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 19ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:35:in `test_should_show_product'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 14ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "price" = 19.95, "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-20 05:31:50.060024' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 6ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 05:31:50.073025', '2011-07-20 05:31:50.073025')
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52175964_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected tASSOC, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...f(@cart.line_items.empty?, :=> "cart") do @output_buffer.saf...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
...line_items.empty?, :=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:40: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52175964_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			    if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:40:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__849683412__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/store_controller_test.rb:5:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:434:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 29ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:10:28.000000', '2011-07-20 06:10:28.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 8ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (9.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 106ms (Views: 104.0ms | ActiveRecord: 9.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 4ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:10:28.931656', '2011-07-20 06:10:28.931656')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at", "quantity") VALUES (980190963, '2011-07-20 06:10:28.966658', 207281424, '2011-07-20 06:10:28.966658', 1)[0m
Redirected to http://test.host/
Completed 302 Found in 39ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:10:28.981659', '2011-07-20 06:10:28.981659')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "updated_at", "quantity") VALUES (980190963, '2011-07-20 06:10:28.986659', 207281424, '2011-07-20 06:10:28.986659', 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 156ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 41ms (Views: 39.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:10:28 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("description", "image_url", "created_at", "price", "updated_at", "title") VALUES ('Wibbles are fun!', 'lorem.jpg', '2011-07-20 06:10:29.356680', 19.95, '2011-07-20 06:10:29.356680', 'Lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 25ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 48ms (Views: 47.0ms | ActiveRecord: 2.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 100ms (Views: 98.0ms | ActiveRecord: 2.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95, "updated_at" = '2011-07-20 06:10:29.629696', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:10:29.642697', '2011-07-20 06:10:29.642697')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 31.0ms | ActiveRecord: 2.0ms)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:13:35.000000', '2011-07-20 06:13:35.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 5ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (6.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 61.0ms | ActiveRecord: 6.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:13:36.452381', '2011-07-20 06:13:36.452381')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "created_at", "product_id", "quantity") VALUES (980190963, '2011-07-20 06:13:36.470382', '2011-07-20 06:13:36.470382', 207281424, 1)[0m
Redirected to http://test.host/
Completed 302 Found in 22ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:13:36.484383', '2011-07-20 06:13:36.484383')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "created_at", "product_id", "quantity") VALUES (980190963, '2011-07-20 06:13:36.488384', '2011-07-20 06:13:36.488384', 207281424, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 119ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 38ms (Views: 37.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (3.0ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:13:35 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("created_at", "updated_at", "description", "image_url", "price", "title") VALUES ('2011-07-20 06:13:36.780400', '2011-07-20 06:13:36.780400', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 7.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 76ms (Views: 75.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-20 06:13:36.996413', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95, "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 6ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:13:37.009413', '2011-07-20 06:13:37.009413')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 30.0ms | ActiveRecord: 4.0ms)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:20:50.000000', '2011-07-20 06:20:50.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:33:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 76ms
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 16ms
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:33:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
Rendered collection (0.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/carts_controller.rb:22:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__636904803__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/carts_controller_test.rb:28:in `test_should_show_cart'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 68ms
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:20:50.597213', '2011-07-20 06:20:50.597213')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "line_items" ("quantity", "created_at", "product_id", "updated_at", "cart_id") VALUES (1, '2011-07-20 06:20:50.613214', 207281424, '2011-07-20 06:20:50.613214', 980190963)
Redirected to http://test.host/
Completed 302 Found in 19ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:20:50.628215', '2011-07-20 06:20:50.628215')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "created_at", "product_id", "updated_at", "cart_id") VALUES (1, '2011-07-20 06:20:50.632215', 207281424, '2011-07-20 06:20:50.632215', 980190963)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 102ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (5.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:42:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 35ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:9:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:15:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 17ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/line_items_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__314259505__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/line_items_controller_test.rb:37:in `test_should_show_line_item'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:20:50 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "products" ("image_url", "created_at", "description", "updated_at", "price", "title") VALUES ('lorem.jpg', '2011-07-20 06:20:50.908231', 'Wibbles are fun!', '2011-07-20 06:20:50.908231', 19.95, 'Lorem Ipsum')
Redirected to http://test.host/products/980190963
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (7.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__155074602__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:40:in `test_should_get_edit'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 41ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:7:in `index'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:16:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 70ms
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:29:in `new'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__943997142__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:22:in `test_should_get_new'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 18ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:261:in `retrieve_response_from_mimes'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `call'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
D:/RonR/depot/app/controllers/products_controller.rb:18:in `show'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__1029162686__process_action__453433196__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/products_controller_test.rb:35:in `test_should_show_product'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:439:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 15ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-20 06:20:51.113243', "price" = 19.95, "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:20:51.125243', '2011-07-20 06:20:51.125243')
ERROR: compiling _app_views_layouts_application_html_erb___77364686_52503720_0 RAISED compile error
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ':'
..._if(@cart.line_items.empty?, :  id=> "cart") do @output_buff...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting kEND
..._items.empty?, :  id=> "cart") do @output_buffer.safe_concat...
                              ^
D:/RonR/depot/app/views/layouts/application.html.erb:41: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_layouts_application_html_erb___77364686_52503720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/application";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<!-- START:head -->
<!DOCTYPE html>
<html>
	<head>
		<title>Pragprog Books Online Store</title>
		<!-- START: stylesheet -->
		');@output_buffer.append= ( stylesheet_link_tag "scaffold" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( stylesheet_link_tag "depot", :media => "all" );@output_buffer.safe_concat('<!-- <label id="code.slt"/> -->
		<!-- END: stylesheet -->
		
		');@output_buffer.append= ( javascript_include_tag :defaults );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( csrf_meta_tag );@output_buffer.safe_concat('    <!-- <label id="code.csrf"/> -->
	</head>
	
	<body id="store">
		<div id="banner">
			');@output_buffer.append= ( image_tag("logo.png") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('			');@output_buffer.append= ( @page_title || "Pragmatic Bookshelf" );@output_buffer.safe_concat('  <!-- <label id="code.depot.e.title"/> -->
		</div>
		<div id="columns">
			<div id="side">
			 <div id="cart">
');			   if @cart 
@output_buffer.safe_concat('			  ');@output_buffer.append=  hidden_div_if(@cart.line_items.empty?, :  id=> "cart") do @output_buffer.safe_concat('
');@output_buffer.safe_concat('			   ');@output_buffer.append= ( render @cart );@output_buffer.safe_concat('
');			   end 
			  end 
@output_buffer.safe_concat('			 
			 </div>
				<a href="http://www....">Home</a><br />
				<a href="http://www..../faq">Questions</a><br />
				<a href="http://www..../news">News</a><br />
				<a href="http://www..../contact">Contact</a><br />
			</div>
			<div id="main">
				');@output_buffer.append= ( yield );@output_buffer.safe_concat('   <!-- <label id="code.depot.e.include"/> -->
			</div>
		</div>
	</body>
</html>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: D:/RonR/depot/app/views/layouts/application.html.erb:41:in `compile'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:134:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/template.rb:127:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/layouts.rb:80:in `_render_layout'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:62:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:56:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_view/render/rendering.rb:26:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:115:in `_render_template'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:109:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:102:in `render_to_string'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:93:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:17:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/1.8/benchmark.rb:308:in `realtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/core_ext/benchmark.rb:5:in `ms'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:40:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/activerecord-3.0.7/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:39:in `render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:14:in `default_render'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/implicit_render.rb:6:in `send_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:150:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rendering.rb:11:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:18:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:436:in `_run__849683412__process_action__199225275__callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `send'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:94:in `run_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/callbacks.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/notifications.rb:52:in `instrument'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/rescue.rb:17:in `process_action'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/base.rb:119:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/abstract_controller/rendering.rb:41:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/metal/testing.rb:12:in `process_with_new_base_test'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:412:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:47:in `process'
D:/Ruby187/lib/ruby/gems/1.8/gems/actionpack-3.0.7/lib/action_controller/test_case.rb:350:in `get'
D:/RonR/depot/test/functional/store_controller_test.rb:5:in `test_should_get_index'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `__send__'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:67:in `run'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/callbacks.rb:434:in `_run_setup_callbacks'
D:/Ruby187/lib/ruby/gems/1.8/gems/activesupport-3.0.7/lib/active_support/testing/setup_and_teardown.rb:65:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:34:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `each'
D:/Ruby187/lib/ruby/1.8/test/unit/testsuite.rb:33:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnermediator.rb:46:in `run_suite'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:67:in `start_mediator'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/console/testrunner.rb:41:in `start'
D:/Ruby187/lib/ruby/1.8/test/unit/ui/testrunnerutilities.rb:29:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:216:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit/autorunner.rb:12:in `run'
D:/Ruby187/lib/ruby/1.8/test/unit.rb:279
D:/Ruby187/lib/ruby/gems/1.8/gems/rake-0.9.2/lib/rake/rake_test_loader.rb:5
Completed   in 30ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:27:04.000000', '2011-07-20 06:27:04.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (8.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 79ms (Views: 78.0ms | ActiveRecord: 5.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 19ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:27:05.251642', '2011-07-20 06:27:05.251642')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "product_id", "cart_id", "quantity", "updated_at") VALUES ('2011-07-20 06:27:05.268643', 207281424, 980190963, 1, '2011-07-20 06:27:05.268643')[0m
Redirected to http://test.host/
Completed 302 Found in 21ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:27:05.282644', '2011-07-20 06:27:05.282644')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "product_id", "cart_id", "quantity", "updated_at") VALUES ('2011-07-20 06:27:05.287644', 207281424, 980190963, 1, '2011-07-20 06:27:05.287644')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 120ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (6.0ms)
Completed 200 OK in 40ms (Views: 39.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 21ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:27:04 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mINSERT INTO "products" ("image_url", "title", "price", "description", "created_at", "updated_at") VALUES ('lorem.jpg', 'Lorem Ipsum', 19.95, 'Wibbles are fun!', '2011-07-20 06:27:05.593662', '2011-07-20 06:27:05.593662')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 7ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 5.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 76ms (Views: 75.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (5.0ms)
Completed 200 OK in 23ms (Views: 22.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "price" = 19.95, "description" = 'Wibbles are fun!', "updated_at" = '2011-07-20 06:27:05.815674' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:27:05.828675', '2011-07-20 06:27:05.828675')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 4.0ms)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:32:21.000000', '2011-07-20 06:32:21.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (21.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 104ms (Views: 103.0ms | ActiveRecord: 8.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 34ms (Views: 32.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 35.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 56ms (Views: 55.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:32:21.906754', '2011-07-20 06:32:21.906754')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES ('2011-07-20 06:32:21.922755', 207281424, '2011-07-20 06:32:21.922755', 980190963, 1)[0m
Redirected to http://test.host/
Completed 302 Found in 20ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:32:21.936755', '2011-07-20 06:32:21.936755')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES ('2011-07-20 06:32:21.940756', 207281424, '2011-07-20 06:32:21.940756', 980190963, 1)[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (12.0ms)
Completed   in 123ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (6.0ms)
Completed 200 OK in 71ms (Views: 70.0ms | ActiveRecord: 4.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 2.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:32:21 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 5ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "description", "image_url", "price", "title") VALUES ('2011-07-20 06:32:22.347779', '2011-07-20 06:32:22.347779', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 8ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (8.0ms)
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 6.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 74ms (Views: 73.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 23ms (Views: 23.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-20 06:32:22.565791', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95, "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:32:22.577792', '2011-07-20 06:32:22.577792')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 3.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:34:17.000000', '2011-07-20 06:34:17.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (8.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 65ms (Views: 64.0ms | ActiveRecord: 6.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:34:18.426418', '2011-07-20 06:34:18.426418')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "created_at", "cart_id", "product_id") VALUES ('2011-07-20 06:34:18.442419', 1, '2011-07-20 06:34:18.442419', 980190963, 207281424)[0m
Redirected to http://test.host/
Completed 302 Found in 20ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:34:18.456420', '2011-07-20 06:34:18.456420')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "created_at", "cart_id", "product_id") VALUES ('2011-07-20 06:34:18.461420', 1, '2011-07-20 06:34:18.461420', 980190963, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (12.0ms)
Completed   in 123ms
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 21ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:34:17 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("title", "description", "created_at", "updated_at", "price", "image_url") VALUES ('Lorem Ipsum', 'Wibbles are fun!', '2011-07-20 06:34:18.767438', '2011-07-20 06:34:18.767438', 19.95, 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 7ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 44ms (Views: 42.0ms | ActiveRecord: 5.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 74ms (Views: 73.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 23ms (Views: 23.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-20 06:34:18.987450', "price" = 19.95, "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:34:19.000451', '2011-07-20 06:34:19.000451')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 3.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:41:44.000000', '2011-07-20 06:41:44.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 4ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (7.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 67ms (Views: 66.0ms | ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 23ms (Views: 22.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:41:44.520933', '2011-07-20 06:41:44.520933')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "cart_id", "product_id", "quantity", "updated_at") VALUES ('2011-07-20 06:41:44.535934', 980190963, 207281424, 1, '2011-07-20 06:41:44.535934')[0m
Redirected to http://test.host/
Completed 302 Found in 21ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:41:44.551935', '2011-07-20 06:41:44.551935')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "cart_id", "product_id", "quantity", "updated_at") VALUES ('2011-07-20 06:41:44.555935', 980190963, 207281424, 1, '2011-07-20 06:41:44.555935')[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (12.0ms)
Completed   in 127ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 40ms (Views: 39.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:41:44 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "price", "title", "created_at", "description", "image_url") VALUES ('2011-07-20 06:41:44.864953', 19.95, 'Lorem Ipsum', '2011-07-20 06:41:44.864953', 'Wibbles are fun!', 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 8ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 4.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 73ms (Views: 71.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-20 06:41:45.083966', "price" = 19.95, "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:41:45.097966', '2011-07-20 06:41:45.097966')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 5.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:45:23.000000', '2011-07-20 06:45:23.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 8ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (7.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 97ms (Views: 96.0ms | ActiveRecord: 7.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (1.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:45:23.913482', '2011-07-20 06:45:23.913482')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "created_at", "cart_id", "product_id") VALUES ('2011-07-20 06:45:23.944484', 1, '2011-07-20 06:45:23.944484', 980190963, 207281424)[0m
Redirected to http://test.host/
Completed 302 Found in 35ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:45:23.958485', '2011-07-20 06:45:23.958485')
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "created_at", "cart_id", "product_id") VALUES ('2011-07-20 06:45:23.963485', 1, '2011-07-20 06:45:23.963485', 980190963, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 129ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 06:45:23 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("title", "description", "created_at", "updated_at", "price", "image_url") VALUES ('Lorem Ipsum', 'Wibbles are fun!', '2011-07-20 06:45:24.281503', '2011-07-20 06:45:24.281503', 19.95, 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 10.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 90ms (Views: 88.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (5.0ms)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-20 06:45:24.515516', "price" = 19.95, "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 06:45:24.527517', '2011-07-20 06:45:24.527517')[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 29.0ms | ActiveRecord: 5.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 07:00:00.000000', '2011-07-20 07:00:00.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (145.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 242ms (Views: 241.0ms | ActiveRecord: 6.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (1.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 4ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 07:00:01.077653', '2011-07-20 07:00:01.077653')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "quantity", "updated_at") VALUES (207281424, 980190963, '2011-07-20 07:00:01.105655', 1, '2011-07-20 07:00:01.105655')[0m
Redirected to http://test.host/
Completed 302 Found in 32ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 07:00:01.119655', '2011-07-20 07:00:01.119655')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "quantity", "updated_at") VALUES (207281424, 980190963, '2011-07-20 07:00:01.123656', 1, '2011-07-20 07:00:01.123656')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (11.0ms)
Completed   in 159ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 5ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 60ms (Views: 59.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 07:00:00 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "products" ("created_at", "description", "title", "updated_at", "price", "image_url") VALUES ('2011-07-20 07:00:01.524678', 'Wibbles are fun!', 'Lorem Ipsum', '2011-07-20 07:00:01.524678', 19.95, 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 7ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 71ms (Views: 70.0ms | ActiveRecord: 6.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 102ms (Views: 100.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 25ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-20 07:00:01.810695', "price" = 19.95, "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-20 07:00:01.823696', '2011-07-20 07:00:01.823696')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 61ms (Views: 57.0ms | ActiveRecord: 2.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-20 07:21:10.000000', '2011-07-20 07:21:10.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (6.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 87ms (Views: 86.0ms | ActiveRecord: 6.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 37ms (Views: 36.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "updated_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-20 07:21:11.097294', '2011-07-20 07:21:11.097294')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (207281424, 980190963, '2011-07-20 07:21:11.137296', '2011-07-20 07:21:11.137296', 1)[0m
Redirected to http://test.host/
Completed 302 Found in 44ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-20 07:21:11.169298', '2011-07-20 07:21:11.169298')
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (207281424, 980190963, '2011-07-20 07:21:11.173298', '2011-07-20 07:21:11.173298', 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (21.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 162ms (Views: 155.0ms | ActiveRecord: 6.0ms)
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 5ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 3.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 21ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 21ms (Views: 21.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "quantity"=>1, "product_id"=>1, "updated_at"=>Wed, 20 Jul 2011 07:21:10 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "products" ("created_at", "image_url", "description", "updated_at", "price", "title") VALUES ('2011-07-20 07:21:11.745331', 'lorem.jpg', 'Wibbles are fun!', '2011-07-20 07:21:11.745331', 19.95, 'Lorem Ipsum')
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (17.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 23ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 23.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (5.0ms)
Completed 200 OK in 22ms (Views: 22.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  UPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-20 07:21:11.942342', "price" = 19.95, "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-20 07:21:11.959343', '2011-07-20 07:21:11.959343')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 41ms (Views: 36.0ms | ActiveRecord: 4.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:44.000000', '2011-07-25 03:02:44.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (124.8ms)
Rendered carts/_cart.html.erb (171.6ms)
Completed 200 OK in 312ms (Views: 296.4ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:45.307926', '2011-07-25 03:02:45.307926')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "cart_id", "created_at", "updated_at", "quantity", "product_id") VALUES (NULL, 980190963, '2011-07-25 03:02:45.401526', '2011-07-25 03:02:45.401526', 1, 207281424)
Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:45.432726', '2011-07-25 03:02:45.432726')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "cart_id", "created_at", "updated_at", "quantity", "product_id") VALUES (NULL, 980190963, '2011-07-25 03:02:45.448326', '2011-07-25 03:02:45.448326', 1, 207281424)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (46.8ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 312ms (Views: 296.4ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:47.273529', '2011-07-25 03:02:47.273529')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:47.304729', '2011-07-25 03:02:47.304729')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "pay_type", "address", "name", "created_at", "updated_at") VALUES ('dave@example.org', 'Check', 'MyText', 'Dave Thomas', '2011-07-25 03:02:44.000000', '2011-07-25 03:02:44.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (203ms)
Date: Mon, 25 Jul 2011 11:02:47 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cdcd7707b9_11f418bab582806b@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 234ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 172ms (Views: 171.6ms | ActiveRecord: 31.2ms)
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:47.835130', '2011-07-25 03:02:47.835130')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "cart_id", "created_at", "updated_at", "quantity", "product_id") VALUES (NULL, 980190963, '2011-07-25 03:02:47.835130', '2011-07-25 03:02:47.835130', 1, 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:02:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "description", "price", "title", "image_url", "created_at") VALUES ('2011-07-25 03:02:48.006730', 'Wibbles are fun!', 19.95, 'Lorem Ipsum', 'lorem.jpg', '2011-07-25 03:02:48.006730')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 125ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-25 03:02:48.349931', "description" = 'Wibbles are fun!', "price" = 19.95, "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:02:48.365531', '2011-07-25 03:02:48.365531')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:03:37 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:03:38.073438', '2011-07-25 03:03:38.073438')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 234ms (Views: 202.8ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 11:03:38 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "created_at", "cart_id", "order_id", "product_id", "quantity") VALUES ('2011-07-25 03:03:38.338639', '2011-07-25 03:03:38.338639', 980190963, NULL, 207281424, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (109.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (124.8ms)
Completed 200 OK in 281ms (Views: 265.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 11:03:38 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 11:03:38 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "address", "pay_type", "name", "email", "updated_at") VALUES ('2011-07-25 03:03:38.744240', '123 The Street', 'Check', 'Dave Thomas', 'dave@example.com', '2011-07-25 03:03:38.744240')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 03:03:38.744240', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (46.8ms)

Sent mail to dave@example.com (156ms)
Date: Mon, 25 Jul 2011 11:03:39 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cdd0b37a00_9781caab583929e@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 562ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:03:39 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:03:39.305841', '2011-07-25 03:03:39.305841')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:32.000000', '2011-07-25 03:23:32.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (156.0ms)
Rendered carts/_cart.html.erb (202.8ms)
Completed 200 OK in 359ms (Views: 358.8ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (15.6ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (15.6ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:33.539565', '2011-07-25 03:23:33.539565')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "order_id", "cart_id", "product_id", "created_at", "updated_at") VALUES (1, NULL, 980190963, 207281424, '2011-07-25 03:23:33.586365', '2011-07-25 03:23:33.586365')
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:33.617566', '2011-07-25 03:23:33.617566')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "order_id", "cart_id", "product_id", "created_at", "updated_at") VALUES (1, NULL, 980190963, 207281424, '2011-07-25 03:23:33.633166', '2011-07-25 03:23:33.633166')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (46.8ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 328ms (Views: 312.0ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (46.8ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:35.863969', '2011-07-25 03:23:35.863969')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:35.910770', '2011-07-25 03:23:35.910770')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("pay_type", "name", "email", "updated_at", "created_at", "address") VALUES ('Check', 'Dave Thomas', 'dave@example.org', '2011-07-25 03:23:32.000000', '2011-07-25 03:23:32.000000', 'MyText')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (234ms)
Date: Mon, 25 Jul 2011 11:23:36 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2ce1b817eb2_8d018bab5815525@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 296ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 265ms (Views: 265.2ms | ActiveRecord: 62.4ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:36.597171', '2011-07-25 03:23:36.597171')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "order_id", "cart_id", "product_id", "created_at", "updated_at") VALUES (1, NULL, 980190963, 207281424, '2011-07-25 03:23:36.612771', '2011-07-25 03:23:36.612771')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:23:32 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("description", "price", "updated_at", "image_url", "created_at", "title") VALUES ('Wibbles are fun!', 19.95, '2011-07-25 03:23:36.815571', 'lorem.jpg', '2011-07-25 03:23:36.815571', 'Lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 93.6ms | ActiveRecord: 46.8ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 94ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "price" = 19.95, "updated_at" = '2011-07-25 03:23:37.267972', "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:23:37.314772', '2011-07-25 03:23:37.314772')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:24:57 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:24:58.015953', '2011-07-25 03:24:58.015953')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (249.6ms)
Completed 200 OK in 390ms (Views: 327.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 11:24:58 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "quantity", "product_id", "created_at", "updated_at") VALUES (980190963, NULL, 1, 207281424, '2011-07-25 03:24:58.515153', '2011-07-25 03:24:58.515153')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (140.4ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (171.6ms)
Completed 200 OK in 515ms (Views: 405.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 11:24:58 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.8ms)
Rendered orders/new.html.erb within layouts/application (78.0ms)
Completed 200 OK in 140ms (Views: 140.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 11:24:59 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("address", "pay_type", "updated_at", "name", "email", "created_at") VALUES ('123 The Street', 'Check', '2011-07-25 03:24:59.123555', 'Dave Thomas', 'dave@example.com', '2011-07-25 03:24:59.123555')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-25 03:24:59.123555' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (46.8ms)
Rendered notifier/order_received.text.erb (78.0ms)

Sent mail to dave@example.com (234ms)
Date: Mon, 25 Jul 2011 11:24:59 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2ce20bd12b4_e641beab5827074@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 842ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:24:59 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:24:59.965956', '2011-07-25 03:24:59.965956')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:02.000000', '2011-07-25 03:31:02.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.4ms)
Rendered carts/_cart.html.erb (187.2ms)
Completed 200 OK in 328ms (Views: 327.6ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:04.147112', '2011-07-25 03:31:04.147112')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "order_id", "created_at", "updated_at", "quantity") VALUES (980190963, 207281424, NULL, '2011-07-25 03:31:04.193912', '2011-07-25 03:31:04.193912', 1)
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:04.225112', '2011-07-25 03:31:04.225112')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "order_id", "created_at", "updated_at", "quantity") VALUES (980190963, 207281424, NULL, '2011-07-25 03:31:04.240712', '2011-07-25 03:31:04.240712', 1)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (46.8ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 374ms (Views: 358.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (46.8ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:06.299916', '2011-07-25 03:31:06.299916')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:06.346716', '2011-07-25 03:31:06.346716')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("created_at", "name", "pay_type", "address", "email", "updated_at") VALUES ('2011-07-25 03:31:02.000000', 'Dave Thomas', 'Check', 'MyText', 'dave@example.org', '2011-07-25 03:31:02.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (312ms)
Date: Mon, 25 Jul 2011 11:31:06 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2ce37a9564c_17c01ceab542669f@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 359ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:07.079917', '2011-07-25 03:31:07.079917')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "order_id", "created_at", "updated_at", "quantity") VALUES (980190963, 207281424, NULL, '2011-07-25 03:31:07.095517', '2011-07-25 03:31:07.095517', 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:31:02 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "title", "image_url", "created_at", "description", "updated_at") VALUES (19.95, 'Lorem Ipsum', 'lorem.jpg', '2011-07-25 03:31:07.298318', 'Wibbles are fun!', '2011-07-25 03:31:07.298318')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-25 03:31:07.766318' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:31:07.797518', '2011-07-25 03:31:07.797518')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:32:31 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:32:31.288865', '2011-07-25 03:32:31.288865')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (234.0ms)
Completed 200 OK in 343ms (Views: 296.4ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 11:32:31 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "product_id", "updated_at", "cart_id", "created_at", "quantity") VALUES (NULL, 207281424, '2011-07-25 03:32:31.741266', 980190963, '2011-07-25 03:32:31.741266', 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (109.2ms)
Rendered carts/_cart.html.erb (156.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (187.2ms)
Completed 200 OK in 546ms (Views: 436.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 11:32:32 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.8ms)
Rendered orders/new.html.erb within layouts/application (93.6ms)
Completed 200 OK in 140ms (Views: 140.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 11:32:32 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "pay_type", "updated_at", "address", "email", "created_at") VALUES ('Dave Thomas', 'Check', '2011-07-25 03:32:32.412067', '123 The Street', 'dave@example.com', '2011-07-25 03:32:32.412067')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "order_id" = 980190963, "updated_at" = '2011-07-25 03:32:32.412067', "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (93.6ms)
Rendered notifier/order_received.text.erb (109.2ms)

Sent mail to dave@example.com (328ms)
Date: Mon, 25 Jul 2011 11:32:33 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2ce3d164365_c641cb2b503502c@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 1139ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:32:33 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 03:32:33.550869', '2011-07-25 03:32:33.550869')[0m
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 47ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:53:59.000000', '2011-07-25 03:53:59.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (140.4ms)
Completed 200 OK in 312ms (Views: 312.0ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:00.164965', '2011-07-25 03:54:00.164965')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "order_id", "created_at", "quantity") VALUES ('2011-07-25 03:54:00.196165', 207281424, 980190963, NULL, '2011-07-25 03:54:00.196165', 1)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:00.227365', '2011-07-25 03:54:00.227365')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "order_id", "created_at", "quantity") VALUES ('2011-07-25 03:54:00.227365', 207281424, 980190963, NULL, '2011-07-25 03:54:00.227365', 1)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 250ms (Views: 249.6ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:02.052568', '2011-07-25 03:54:02.052568')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:02.083768', '2011-07-25 03:54:02.083768')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("pay_type", "email", "created_at", "name", "address", "updated_at") VALUES ('Check', 'dave@example.org', '2011-07-25 03:53:59.000000', 'Dave Thomas', 'MyText', '2011-07-25 03:53:59.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (312ms)
Date: Mon, 25 Jul 2011 11:54:02 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2ce8da3e589_11b41c32b5813838@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 359ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:02.645369', '2011-07-25 03:54:02.645369')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "order_id", "created_at", "quantity") VALUES ('2011-07-25 03:54:02.660969', 207281424, 980190963, NULL, '2011-07-25 03:54:02.660969', 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:53:59 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "description", "image_url", "created_at", "title", "updated_at") VALUES (19.95, 'Wibbles are fun!', 'lorem.jpg', '2011-07-25 03:54:02.816969', 'Lorem Ipsum', '2011-07-25 03:54:02.816969')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-25 03:54:03.144570' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:54:03.160170', '2011-07-25 03:54:03.160170')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:55:02 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:55:02.955075', '2011-07-25 03:55:02.955075')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (156.0ms)
Completed 200 OK in 218ms (Views: 202.8ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 11:55:03 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "cart_id", "quantity", "order_id", "product_id", "created_at") VALUES ('2011-07-25 03:55:03.220276', 980190963, 1, NULL, 207281424, '2011-07-25 03:55:03.220276')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (109.2ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (156.0ms)
Completed 200 OK in 390ms (Views: 327.6ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 11:55:03 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (62.4ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 11:55:03 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "name", "updated_at", "address", "created_at", "pay_type") VALUES ('dave@example.com', 'Dave Thomas', '2011-07-25 03:55:03.688276', '123 The Street', '2011-07-25 03:55:03.688276', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 03:55:03.688276', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (31.2ms)

Sent mail to dave@example.com (187ms)
Date: Mon, 25 Jul 2011 11:55:04 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2ce91822585_15841c22b50373a2@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 546ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 11:55:04 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:55:04.234277', '2011-07-25 03:55:04.234277')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:11.000000', '2011-07-25 03:59:11.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (109.2ms)
Completed 200 OK in 203ms (Views: 202.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:12.387513', '2011-07-25 03:59:12.387513')[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "updated_at", "order_id", "quantity", "cart_id", "product_id") VALUES ('2011-07-25 03:59:12.418713', '2011-07-25 03:59:12.418713', NULL, 1, 980190963, 207281424)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:12.434313', '2011-07-25 03:59:12.434313')[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "updated_at", "order_id", "quantity", "cart_id", "product_id") VALUES ('2011-07-25 03:59:12.449913', '2011-07-25 03:59:12.449913', NULL, 1, 980190963, 207281424)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 234ms (Views: 218.4ms | ActiveRecord: 31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:14.009916', '2011-07-25 03:59:14.009916')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:14.025516', '2011-07-25 03:59:14.025516')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "pay_type", "updated_at", "name", "address", "created_at") VALUES ('dave@example.org', 'Check', '2011-07-25 03:59:11.000000', 'Dave Thomas', 'MyText', '2011-07-25 03:59:11.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 25 Jul 2011 11:59:14 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cea121945c_170c1902b588182@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 31.2ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:14.353117', '2011-07-25 03:59:14.353117')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "updated_at", "order_id", "quantity", "cart_id", "product_id") VALUES ('2011-07-25 03:59:14.353117', '2011-07-25 03:59:14.353117', NULL, 1, 980190963, 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 03:59:11 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "updated_at", "created_at", "title", "price", "description") VALUES ('lorem.jpg', '2011-07-25 03:59:14.493517', '2011-07-25 03:59:14.493517', 'Lorem Ipsum', 19.95, 'Wibbles are fun!')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 03:59:14.789917', "title" = 'Lorem Ipsum', "price" = 19.95, "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 03:59:14.805517', '2011-07-25 03:59:14.805517')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:02:18 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:02:18 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:18.000000', '2011-07-25 04:02:18.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (109.2ms)
Rendered carts/_cart.html.erb (124.8ms)
Completed 200 OK in 218ms (Views: 218.4ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:02:18 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:02:18 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:19.790642', '2011-07-25 04:02:19.790642')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "quantity", "created_at", "cart_id", "product_id", "updated_at") VALUES (NULL, 1, '2011-07-25 04:02:19.806242', 980190963, 207281424, '2011-07-25 04:02:19.806242')
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:19.821842', '2011-07-25 04:02:19.821842')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "quantity", "created_at", "cart_id", "product_id", "updated_at") VALUES (NULL, 1, '2011-07-25 04:02:19.837442', 980190963, 207281424, '2011-07-25 04:02:19.837442')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 218ms (Views: 202.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:21.241445', '2011-07-25 04:02:21.241445')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:21.257045', '2011-07-25 04:02:21.257045')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("created_at", "email", "pay_type", "address", "name", "updated_at") VALUES ('2011-07-25 04:02:19.000000', 'dave@example.org', 'Check', 'MyText', 'Dave Thomas', '2011-07-25 04:02:19.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 25 Jul 2011 12:02:21 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2ceacd4dfd5_b981bcab5453610@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 78ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:21.600245', '2011-07-25 04:02:21.600245')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "quantity", "created_at", "cart_id", "product_id", "updated_at") VALUES (NULL, 1, '2011-07-25 04:02:21.600245', 980190963, 207281424, '2011-07-25 04:02:21.600245')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:02:19 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "updated_at", "created_at", "title", "description", "price") VALUES ('lorem.jpg', '2011-07-25 04:02:21.740646', '2011-07-25 04:02:21.740646', 'Lorem Ipsum', 'Wibbles are fun!', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 04:02:22.005846', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:02:22.021446', '2011-07-25 04:02:22.021446')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:03:07 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:03:07.667126', '2011-07-25 04:03:07.667126')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (124.8ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 12:03:07 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "created_at", "order_id", "cart_id", "quantity", "product_id") VALUES ('2011-07-25 04:03:07.885527', '2011-07-25 04:03:07.885527', NULL, 980190963, 1, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (62.4ms)
Rendered carts/_cart.html.erb (78.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (109.2ms)
Completed 200 OK in 265ms (Views: 234.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 12:03:08 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (62.4ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 12:03:08 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "created_at", "pay_type", "name", "email", "address") VALUES ('2011-07-25 04:03:08.259927', '2011-07-25 04:03:08.259927', 'Check', 'Dave Thomas', 'dave@example.com', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 04:03:08.259927', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (46.8ms)

Sent mail to dave@example.com (156ms)
Date: Mon, 25 Jul 2011 12:03:08 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2ceafcaa198_16641c52b50243dc@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 499ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:03:08 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:03:08.759128', '2011-07-25 04:03:08.759128')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:44.000000', '2011-07-25 04:05:44.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (93.6ms)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (15.6ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:45.406204', '2011-07-25 04:05:45.406204')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "quantity", "cart_id", "order_id", "created_at") VALUES ('2011-07-25 04:05:45.421804', 207281424, 1, 980190963, NULL, '2011-07-25 04:05:45.421804')
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:45.453004', '2011-07-25 04:05:45.453004')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "quantity", "cart_id", "order_id", "created_at") VALUES ('2011-07-25 04:05:45.453004', 207281424, 1, 980190963, NULL, '2011-07-25 04:05:45.453004')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:46.732206', '2011-07-25 04:05:46.732206')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:46.763406', '2011-07-25 04:05:46.763406')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "address", "created_at", "pay_type", "updated_at", "name") VALUES ('dave@example.org', 'MyText', '2011-07-25 04:05:44.000000', 'Check', '2011-07-25 04:05:44.000000', 'Dave Thomas')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 25 Jul 2011 12:05:46 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2ceb9ac5cde_12281c22b50737d@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 62ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:47.044207', '2011-07-25 04:05:47.044207')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "quantity", "cart_id", "order_id", "created_at") VALUES ('2011-07-25 04:05:47.059807', 207281424, 1, 980190963, NULL, '2011-07-25 04:05:47.059807')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:05:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("title", "created_at", "updated_at", "description", "image_url", "price") VALUES ('Lorem Ipsum', '2011-07-25 04:05:47.169007', '2011-07-25 04:05:47.169007', 'Wibbles are fun!', 'lorem.jpg', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "updated_at" = '2011-07-25 04:05:47.465407', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:05:47.481007', '2011-07-25 04:05:47.481007')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (15.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:25.000000', '2011-07-25 04:08:25.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (109.2ms)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:26.213687', '2011-07-25 04:08:26.213687')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "quantity", "order_id", "updated_at", "created_at") VALUES (207281424, 980190963, 1, NULL, '2011-07-25 04:08:26.244887', '2011-07-25 04:08:26.244887')
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:26.260487', '2011-07-25 04:08:26.260487')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "quantity", "order_id", "updated_at", "created_at") VALUES (207281424, 980190963, 1, NULL, '2011-07-25 04:08:26.260487', '2011-07-25 04:08:26.260487')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:27.508489', '2011-07-25 04:08:27.508489')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:27.524089', '2011-07-25 04:08:27.524089')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("created_at", "address", "name", "pay_type", "email", "updated_at") VALUES ('2011-07-25 04:08:25.000000', 'MyText', 'Dave Thomas', 'Check', 'dave@example.org', '2011-07-25 04:08:25.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Mon, 25 Jul 2011 12:08:27 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cec3b8f2f9_151c1c7ab585487@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 62ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:27.804889', '2011-07-25 04:08:27.804889')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "quantity", "order_id", "updated_at", "created_at") VALUES (207281424, 980190963, 1, NULL, '2011-07-25 04:08:27.804889', '2011-07-25 04:08:27.804889')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:08:25 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("created_at", "price", "description", "title", "image_url", "updated_at") VALUES ('2011-07-25 04:08:27.929690', 19.95, 'Wibbles are fun!', 'Lorem Ipsum', 'lorem.jpg', '2011-07-25 04:08:27.929690')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 04:08:28.163690' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:08:28.179290', '2011-07-25 04:08:28.179290')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:09:07 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:09:08.021760', '2011-07-25 04:09:08.021760')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 12:09:08 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "created_at", "updated_at", "product_id", "order_id", "cart_id") VALUES (1, '2011-07-25 04:09:08.255760', '2011-07-25 04:09:08.255760', 207281424, NULL, 980190963)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (62.4ms)
Rendered carts/_cart.html.erb (93.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (109.2ms)
Completed 200 OK in 281ms (Views: 249.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 12:09:08 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 12:09:08 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "pay_type", "name", "address", "updated_at", "created_at") VALUES ('dave@example.com', 'Check', 'Dave Thomas', '123 The Street', '2011-07-25 04:09:08.630161', '2011-07-25 04:09:08.630161')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 04:09:08.630161', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (31.2ms)

Sent mail to dave@example.com (125ms)
Date: Mon, 25 Jul 2011 12:09:09 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cec658bb2_12681bf2b5024795@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 452ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:09:09 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:09:09.098162', '2011-07-25 04:09:09.098162')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:36.000000', '2011-07-25 04:45:36.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (109.2ms)
Completed 200 OK in 187ms (Views: 171.6ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:37.459208', '2011-07-25 04:45:37.459208')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "quantity", "order_id", "created_at", "updated_at", "product_id") VALUES (980190963, 1, NULL, '2011-07-25 04:45:37.474808', '2011-07-25 04:45:37.474808', 207281424)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:37.490408', '2011-07-25 04:45:37.490408')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "quantity", "order_id", "created_at", "updated_at", "product_id") VALUES (980190963, 1, NULL, '2011-07-25 04:45:37.490408', '2011-07-25 04:45:37.490408', 207281424)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 172ms (Views: 156.0ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:38.644810', '2011-07-25 04:45:38.644810')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:38.660410', '2011-07-25 04:45:38.660410')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "created_at", "updated_at", "pay_type", "name", "address") VALUES ('dave@example.org', '2011-07-25 04:45:36.000000', '2011-07-25 04:45:36.000000', 'Check', 'Dave Thomas', 'MyText')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Mon, 25 Jul 2011 12:45:38 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf4f2b077a_17c01c4ab5852587@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 62ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:38.925610', '2011-07-25 04:45:38.925610')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "quantity", "order_id", "created_at", "updated_at", "product_id") VALUES (980190963, 1, NULL, '2011-07-25 04:45:38.925610', '2011-07-25 04:45:38.925610', 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:45:36 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "created_at", "image_url", "updated_at", "title", "description") VALUES (19.95, '2011-07-25 04:45:39.034810', 'lorem.jpg', '2011-07-25 04:45:39.034810', 'Lorem Ipsum', 'Wibbles are fun!')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 04:45:39.253211', "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:45:39.268811', '2011-07-25 04:45:39.268811')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:47:59.000000', '2011-07-25 04:47:59.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (109.2ms)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:00.535863', '2011-07-25 04:48:00.535863')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "product_id", "created_at", "quantity") VALUES (980190963, '2011-07-25 04:48:00.567063', NULL, 207281424, '2011-07-25 04:48:00.567063', 1)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:00.582663', '2011-07-25 04:48:00.582663')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "product_id", "created_at", "quantity") VALUES (980190963, '2011-07-25 04:48:00.582663', NULL, 207281424, '2011-07-25 04:48:00.582663', 1)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:01.783865', '2011-07-25 04:48:01.783865')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:01.799465', '2011-07-25 04:48:01.799465')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "name", "created_at", "pay_type", "updated_at", "address") VALUES ('dave@example.org', 'Dave Thomas', '2011-07-25 04:47:59.000000', 'Check', '2011-07-25 04:47:59.000000', 'MyText')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Mon, 25 Jul 2011 12:48:01 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf581d26a9_a6c1c72b54812a5@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 62ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:02.080266', '2011-07-25 04:48:02.080266')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "product_id", "created_at", "quantity") VALUES (980190963, '2011-07-25 04:48:02.080266', NULL, 207281424, '2011-07-25 04:48:02.080266', 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:47:59 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "title", "created_at", "image_url", "description", "updated_at") VALUES (19.95, 'Lorem Ipsum', '2011-07-25 04:48:02.205066', 'lorem.jpg', 'Wibbles are fun!', '2011-07-25 04:48:02.205066')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "title" = 'Lorem Ipsum', "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-25 04:48:02.423466' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:48:02.439066', '2011-07-25 04:48:02.439066')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:17.000000', '2011-07-25 04:51:17.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (93.6ms)
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:17.923010', '2011-07-25 04:51:17.923010')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "order_id", "quantity", "updated_at", "created_at") VALUES (980190963, 207281424, NULL, 1, '2011-07-25 04:51:17.938610', '2011-07-25 04:51:17.938610')
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:17.954210', '2011-07-25 04:51:17.954210')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "order_id", "quantity", "updated_at", "created_at") VALUES (980190963, 207281424, NULL, 1, '2011-07-25 04:51:17.969810', '2011-07-25 04:51:17.969810')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 203ms (Views: 187.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:19.233412', '2011-07-25 04:51:19.233412')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:19.249012', '2011-07-25 04:51:19.249012')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "email", "created_at", "name", "address", "pay_type") VALUES ('2011-07-25 04:51:17.000000', 'dave@example.org', '2011-07-25 04:51:17.000000', 'Dave Thomas', 'MyText', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Mon, 25 Jul 2011 12:51:19 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf6474c074_156018bab582125a@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 78ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:19.545412', '2011-07-25 04:51:19.545412')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "order_id", "quantity", "updated_at", "created_at") VALUES (980190963, 207281424, NULL, 1, '2011-07-25 04:51:19.545412', '2011-07-25 04:51:19.545412')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:51:17 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("description", "image_url", "title", "created_at", "price", "updated_at") VALUES ('Wibbles are fun!', 'lorem.jpg', 'Lorem Ipsum', '2011-07-25 04:51:19.670213', 19.95, '2011-07-25 04:51:19.670213')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-25 04:51:19.904213' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:19.919813', '2011-07-25 04:51:19.919813')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:51:58 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:58.420681', '2011-07-25 04:51:58.420681')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 12:51:58 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "updated_at", "quantity", "order_id", "product_id") VALUES (980190963, '2011-07-25 04:51:58.654681', '2011-07-25 04:51:58.654681', 1, NULL, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (93.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (124.8ms)
Completed 200 OK in 281ms (Views: 249.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 12:51:58 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 109ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 12:51:59 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "name", "updated_at", "created_at", "pay_type", "address") VALUES ('dave@example.com', 'Dave Thomas', '2011-07-25 04:51:59.075882', '2011-07-25 04:51:59.075882', 'Check', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-25 04:51:59.075882', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (46.8ms)

Sent mail to dave@example.com (109ms)
Date: Mon, 25 Jul 2011 12:51:59 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cf66f6deea_e581c7ab584157b@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 452ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:51:59 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:51:59.512683', '2011-07-25 04:51:59.512683')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (10.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:45.000000', '2011-07-25 04:54:45.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 30ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (10.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (120.0ms)
Rendered carts/_cart.html.erb (150.0ms)
Completed 200 OK in 280ms (Views: 270.0ms | ActiveRecord: 20.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 60ms (Views: 60.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 10ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:46.055587', '2011-07-25 04:54:46.055587')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "cart_id", "product_id", "quantity", "updated_at", "order_id") VALUES ('2011-07-25 04:54:46.115587', 980190963, 207281424, 1, '2011-07-25 04:54:46.115587', NULL)
Redirected to http://test.host/
Completed 302 Found in 70ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:46.145587', '2011-07-25 04:54:46.145587')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "cart_id", "product_id", "quantity", "updated_at", "order_id") VALUES ('2011-07-25 04:54:46.155587', 980190963, 207281424, 1, '2011-07-25 04:54:46.155587', NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (20.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 240ms (Views: 230.0ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 10ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (10.0ms)
Completed 200 OK in 80ms (Views: 70.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (10.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 10.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (10.0ms)
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 10ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (50.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (10.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:47.895589', '2011-07-25 04:54:47.895589')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 10ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (10.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:47.945589', '2011-07-25 04:54:47.945589')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("email", "updated_at", "name", "address", "created_at", "pay_type") VALUES ('dave@example.org', '2011-07-25 04:54:45.000000', 'Dave Thomas', 'MyText', '2011-07-25 04:54:45.000000', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (10.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (50ms)
Date: Mon, 25 Jul 2011 12:54:48 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf7188b06_11cc1c22b5089599@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 100ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (10.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 10ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (10.0ms)
Completed 200 OK in 90ms (Views: 90.0ms | ActiveRecord: 30.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:48.355590', '2011-07-25 04:54:48.355590')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "cart_id", "product_id", "quantity", "updated_at", "order_id") VALUES ('2011-07-25 04:54:48.365590', 980190963, 207281424, 1, '2011-07-25 04:54:48.365590', NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:54:45 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 10ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("title", "description", "image_url", "updated_at", "created_at", "price") VALUES ('Lorem Ipsum', 'Wibbles are fun!', 'lorem.jpg', '2011-07-25 04:54:48.505590', '2011-07-25 04:54:48.505590', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 10ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 20ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (20.0ms)
Completed 200 OK in 80ms (Views: 80.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 40ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (10.0ms)
Completed 200 OK in 40ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 30ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 04:54:48.815591', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 10ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:54:48.845591', '2011-07-25 04:54:48.845591')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 60ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:55:51 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:55:51.437704', '2011-07-25 04:55:51.437704')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 218ms (Views: 187.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 12:55:51 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-25 04:55:51.687304', 980190963, '2011-07-25 04:55:51.687304', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (78.0ms)
Rendered carts/_cart.html.erb (93.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (109.2ms)
Completed 200 OK in 296ms (Views: 265.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 12:55:51 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 12:55:52 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "pay_type", "email", "name", "address", "created_at") VALUES ('2011-07-25 04:55:52.092905', 'Check', 'dave@example.com', 'Dave Thomas', '123 The Street', '2011-07-25 04:55:52.092905')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-25 04:55:52.092905', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (62.4ms)

Sent mail to dave@example.com (187ms)
Date: Mon, 25 Jul 2011 12:55:52 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cf7589fcaa_134c18bab58337c3@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 655ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 12:55:52 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 04:55:52.748106', '2011-07-25 04:55:52.748106')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:43.000000', '2011-07-25 04:59:43.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (46.8ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (171.6ms)
Rendered carts/_cart.html.erb (218.4ms)
Completed 200 OK in 515ms (Views: 483.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:45.435133', '2011-07-25 04:59:45.435133')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "created_at", "cart_id", "order_id", "quantity") VALUES ('2011-07-25 04:59:45.497534', 207281424, '2011-07-25 04:59:45.497534', 980190963, NULL, 1)
Redirected to http://test.host/
Completed 302 Found in 78ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:45.544334', '2011-07-25 04:59:45.544334')[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "created_at", "cart_id", "order_id", "quantity") VALUES ('2011-07-25 04:59:45.559934', 207281424, '2011-07-25 04:59:45.559934', 980190963, NULL, 1)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (62.4ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 390ms (Views: 374.4ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 125ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (62.4ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:48.539539', '2011-07-25 04:59:48.539539')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:48.586339', '2011-07-25 04:59:48.586339')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("pay_type", "created_at", "updated_at", "name", "address", "email") VALUES ('Check', '2011-07-25 04:59:43.000000', '2011-07-25 04:59:43.000000', 'Dave Thomas', 'MyText', 'dave@example.org')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (140ms)
Date: Mon, 25 Jul 2011 12:59:48 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf844b90b3_130c18bab5877875@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 187ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 156ms (Views: 140.4ms | ActiveRecord: 46.8ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:49.241540', '2011-07-25 04:59:49.241540')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "created_at", "cart_id", "order_id", "quantity") VALUES ('2011-07-25 04:59:49.257140', 207281424, '2011-07-25 04:59:49.257140', 980190963, NULL, 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (78.0ms)
Completed 200 OK in 156ms (Views: 140.4ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 04:59:43 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "products" ("image_url", "updated_at", "created_at", "description", "title", "price") VALUES ('lorem.jpg', '2011-07-25 04:59:49.600341', '2011-07-25 04:59:49.600341', 'Wibbles are fun!', 'Lorem Ipsum', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 125ms (Views: 124.8ms | ActiveRecord: 31.2ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "updated_at" = '2011-07-25 04:59:50.037142', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 04:59:50.052742', '2011-07-25 04:59:50.052742')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 31.2ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:00:50 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:00:51.204849', '2011-07-25 05:00:51.204849')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (218.4ms)
Completed 200 OK in 312ms (Views: 280.8ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 13:00:51 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "quantity", "cart_id", "order_id", "created_at") VALUES ('2011-07-25 05:00:51.563650', 207281424, 1, 980190963, NULL, '2011-07-25 05:00:51.563650')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (124.8ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (171.6ms)
Completed 200 OK in 421ms (Views: 374.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 13:00:51 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (62.4ms)
Rendered orders/new.html.erb within layouts/application (93.6ms)
Completed 200 OK in 140ms (Views: 140.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 13:00:52 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "created_at", "name", "updated_at", "address", "pay_type") VALUES ('dave@example.com', '2011-07-25 05:00:52.125251', 'Dave Thomas', '2011-07-25 05:00:52.125251', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 05:00:52.125251', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (62.4ms)

Sent mail to dave@example.com (187ms)
Date: Mon, 25 Jul 2011 13:00:52 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cf884b31d4_7ec18bab58920fa@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 702ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:00:52 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:00:52.827252', '2011-07-25 05:00:52.827252')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:00.000000', '2011-07-25 05:06:00.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (3.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 38ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (61.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (172.0ms)
Rendered carts/_cart.html.erb (228.0ms)
Completed 200 OK in 478ms (Views: 474.0ms | ActiveRecord: 22.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 100ms (Views: 95.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (3.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered line_items/_line_item.html.erb (1.0ms)
Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 47ms (Views: 45.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 7ms
  [1m[35mLineItem Load (10.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:01.423883', '2011-07-25 05:06:01.423883')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "quantity", "cart_id", "order_id", "product_id", "created_at") VALUES ('2011-07-25 05:06:01.444884', 1, 980190963, NULL, 207281424, '2011-07-25 05:06:01.444884')
Redirected to http://test.host/
Completed 302 Found in 29ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:01.472886', '2011-07-25 05:06:01.472886')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "quantity", "cart_id", "order_id", "product_id", "created_at") VALUES ('2011-07-25 05:06:01.478886', 1, 980190963, NULL, 207281424, '2011-07-25 05:06:01.478886')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (33.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 245ms (Views: 232.0ms | ActiveRecord: 18.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 7ms
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (10.0ms)
Completed 200 OK in 74ms (Views: 72.0ms | ActiveRecord: 4.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (3.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 40ms (Views: 34.0ms | ActiveRecord: 4.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (7.0ms)
Completed 200 OK in 60ms (Views: 58.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 40ms (Views: 34.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 6ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (52.0ms)
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:03.339993', '2011-07-25 05:06:03.339993')[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 7ms
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:03.370994', '2011-07-25 05:06:03.370994')[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "created_at", "pay_type", "updated_at") VALUES ('Dave Thomas', 'MyText', 'dave@example.org', '2011-07-25 05:06:00.000000', 'Check', '2011-07-25 05:06:00.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (54ms)
Date: Mon, 25 Jul 2011 13:06:03 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cf9bb6ddcf_1bec1caab5811ab@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 95ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (4.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 12ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (4.0ms)
Completed 200 OK in 71ms (Views: 69.0ms | ActiveRecord: 19.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 1.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:03.748016', '2011-07-25 05:06:03.748016')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "cart_id", "order_id", "product_id", "created_at") VALUES ('2011-07-25 05:06:03.761017', 1, 980190963, NULL, 207281424, '2011-07-25 05:06:03.761017')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (7.0ms)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 4.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (2.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:06:00 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 4ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("title", "description", "updated_at", "image_url", "created_at", "price") VALUES ('Lorem Ipsum', 'Wibbles are fun!', '2011-07-25 05:06:03.919026', 'lorem.jpg', '2011-07-25 05:06:03.919026', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 10ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (2.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 13ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (12.0ms)
Completed 200 OK in 88ms (Views: 86.0ms | ActiveRecord: 10.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (3.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 53ms (Views: 48.0ms | ActiveRecord: 3.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (10.0ms)
Completed 200 OK in 37ms (Views: 36.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-25 05:06:04.242044', "image_url" = 'lorem.jpg', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 13ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:06:04.266046', '2011-07-25 05:06:04.266046')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 56.0ms | ActiveRecord: 7.0ms)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (1.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:07:28 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:07:28.757878', '2011-07-25 05:07:28.757878')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (2.0ms)
Rendered store/index.html.erb within layouts/application (302.0ms)
Completed 200 OK in 439ms (Views: 399.0ms | ActiveRecord: 8.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 13:07:29 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "quantity", "updated_at", "product_id", "created_at") VALUES (980190963, NULL, 1, '2011-07-25 05:07:29.236906', 207281424, '2011-07-25 05:07:29.236906')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (114.0ms)
Rendered carts/_cart.html.erb (143.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (176.0ms)
Completed 200 OK in 518ms (Views: 470.0ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 13:07:29 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (37.0ms)
Rendered orders/new.html.erb within layouts/application (65.0ms)
Completed 200 OK in 117ms (Views: 113.0ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 13:07:29 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "updated_at", "address", "created_at", "name", "pay_type") VALUES ('dave@example.com', '2011-07-25 05:07:29.883943', '123 The Street', '2011-07-25 05:07:29.883943', 'Dave Thomas', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-25 05:07:29.886943' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (42.0ms)
Rendered notifier/order_received.text.erb (57.0ms)

Sent mail to dave@example.com (211ms)
Date: Mon, 25 Jul 2011 13:07:30 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cfa1287015_1d341ca2b54223a@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 769ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:07:30 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:07:30.648986', '2011-07-25 05:07:30.648986')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (22.0ms)
Completed 200 OK in 30ms (Views: 23.0ms | ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (5.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:22.000000', '2011-07-25 05:11:22.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 10ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (4.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 36ms
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (23.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (128.0ms)
Rendered carts/_cart.html.erb (161.0ms)
Completed 200 OK in 308ms (Views: 306.0ms | ActiveRecord: 18.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 43ms (Views: 39.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (3.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered line_items/_line_item.html.erb (1.0ms)
Rendered carts/_cart.html.erb (4.0ms)
Completed 200 OK in 54ms (Views: 50.0ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 14ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:23.141284', '2011-07-25 05:11:23.141284')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "product_id", "quantity") VALUES (980190963, NULL, '2011-07-25 05:11:23.218289', '2011-07-25 05:11:23.218289', 207281424, 1)
Redirected to http://test.host/
Completed 302 Found in 83ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:23.245290', '2011-07-25 05:11:23.245290')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "product_id", "quantity") VALUES (980190963, NULL, '2011-07-25 05:11:23.254291', '2011-07-25 05:11:23.254291', 207281424, 1)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.0ms)
Rendered carts/_cart.html.erb (61.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 607ms (Views: 591.0ms | ActiveRecord: 12.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 13ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (8.0ms)
Completed 200 OK in 766ms (Views: 764.0ms | ActiveRecord: 3.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 176ms (Views: 175.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 41ms (Views: 38.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 5ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (57.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:27.249519', '2011-07-25 05:11:27.249519')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 12ms
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:27.363526', '2011-07-25 05:11:27.363526')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "address", "created_at", "email", "pay_type", "name") VALUES ('2011-07-25 05:11:22.000000', 'MyText', '2011-07-25 05:11:22.000000', 'dave@example.org', 'Check', 'Dave Thomas')[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (80ms)
Date: Mon, 25 Jul 2011 13:11:27 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cfaff760cd_1a541cbab5415939@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 138ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (9.0ms)
Completed 200 OK in 106ms (Views: 101.0ms | ActiveRecord: 14.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 45ms (Views: 43.0ms | ActiveRecord: 1.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:27.850554', '2011-07-25 05:11:27.850554')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "product_id", "quantity") VALUES (980190963, NULL, '2011-07-25 05:11:27.861554', '2011-07-25 05:11:27.861554', 207281424, 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (7.0ms)
Completed 200 OK in 62ms (Views: 58.0ms | ActiveRecord: 4.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 43ms (Views: 41.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:11:22 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 9ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("image_url", "price", "description", "created_at", "title", "updated_at") VALUES ('lorem.jpg', 19.95, 'Wibbles are fun!', '2011-07-25 05:11:28.076567', 'Lorem Ipsum', '2011-07-25 05:11:28.076567')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 15ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (19.0ms)
Completed 200 OK in 97ms (Views: 95.0ms | ActiveRecord: 9.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 56ms (Views: 54.0ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (11.0ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 46ms (Views: 42.0ms | ActiveRecord: 2.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (8.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-25 05:11:28.469589' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 25ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:11:28.499591', '2011-07-25 05:11:28.499591')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 76ms (Views: 69.0ms | ActiveRecord: 12.0ms)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:12:48 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:12:48.452164', '2011-07-25 05:12:48.452164')
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (4.0ms)
Rendered store/index.html.erb within layouts/application (208.0ms)
Completed 200 OK in 319ms (Views: 274.0ms | ActiveRecord: 12.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 13:12:48 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (2.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "cart_id", "product_id", "order_id", "created_at", "quantity") VALUES ('2011-07-25 05:12:48.811184', 980190963, 207281424, NULL, '2011-07-25 05:12:48.811184', 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (121.0ms)
Rendered carts/_cart.html.erb (181.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (213.0ms)
Completed 200 OK in 538ms (Views: 488.0ms | ActiveRecord: 4.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 13:12:49 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (48.0ms)
Rendered orders/new.html.erb within layouts/application (82.0ms)
Completed 200 OK in 130ms (Views: 125.0ms | ActiveRecord: 4.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 13:12:49 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "name", "updated_at", "address", "created_at", "pay_type") VALUES ('dave@example.com', 'Dave Thomas', '2011-07-25 05:12:49.495223', '123 The Street', '2011-07-25 05:12:49.495223', 'Check')
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 05:12:49.502224', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (41.0ms)
Rendered notifier/order_received.text.erb (65.0ms)

Sent mail to dave@example.com (212ms)
Date: Mon, 25 Jul 2011 13:12:50 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cfb5281383_1b381c22b501809@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 1132ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:12:50 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:12:50.633289', '2011-07-25 05:12:50.633289')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (1.0ms)
Rendered store/index.html.erb within layouts/application (24.0ms)
Completed 200 OK in 32ms (Views: 25.0ms | ActiveRecord: 3.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (4.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:45.000000', '2011-07-25 05:25:45.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 30ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (2.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (13.0ms)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (117.0ms)
Rendered carts/_cart.html.erb (150.0ms)
Completed 200 OK in 284ms (Views: 281.0ms | ActiveRecord: 16.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (5.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 35.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (3.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered line_items/_line_item.html.erb (1.0ms)
Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 57ms (Views: 51.0ms | ActiveRecord: 5.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 12ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:46.329656', '2011-07-25 05:25:46.329656')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 05:25:46.363658', NULL, 980190963, 207281424, '2011-07-25 05:25:46.363658')
Redirected to http://test.host/
Completed 302 Found in 39ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:46.393659', '2011-07-25 05:25:46.393659')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 05:25:46.402660', NULL, 980190963, 207281424, '2011-07-25 05:25:46.402660')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (38.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 275ms (Views: 262.0ms | ActiveRecord: 7.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (6.0ms)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 5.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 32ms (Views: 31.0ms | ActiveRecord: 2.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (8.0ms)
Completed 200 OK in 37ms (Views: 36.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 2.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 7ms
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (38.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:48.156760', '2011-07-25 05:25:48.156760')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 6ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:48.181762', '2011-07-25 05:25:48.181762')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("created_at", "name", "pay_type", "updated_at", "email", "address") VALUES ('2011-07-25 05:25:45.000000', 'Dave Thomas', 'Check', '2011-07-25 05:25:45.000000', 'dave@example.org', 'MyText')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (59ms)
Date: Mon, 25 Jul 2011 13:25:48 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2cfe5c3eafe_1ae41832b5055022@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 11ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (4.0ms)
Completed 200 OK in 81ms (Views: 79.0ms | ActiveRecord: 10.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 42ms (Views: 38.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:48.561783', '2011-07-25 05:25:48.561783')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 05:25:48.569784', NULL, 980190963, 207281424, '2011-07-25 05:25:48.569784')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (3.0ms)
Completed 200 OK in 43ms (Views: 39.0ms | ActiveRecord: 2.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 44ms (Views: 42.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 05:25:45 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 10ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (2.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("image_url", "description", "updated_at", "title", "created_at", "price") VALUES ('lorem.jpg', 'Wibbles are fun!', '2011-07-25 05:25:48.750794', 'Lorem Ipsum', '2011-07-25 05:25:48.750794', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms
  [1m[35mSQL (4.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 12ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (13.0ms)
Completed 200 OK in 92ms (Views: 90.0ms | ActiveRecord: 15.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 42ms (Views: 39.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (11.0ms)
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-25 05:25:49.070813', "title" = 'Lorem Ipsum', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 11ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (5.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 05:25:49.095814', '2011-07-25 05:25:49.095814')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 83ms (Views: 71.0ms | ActiveRecord: 10.0ms)
  [1m[36mAREL (6.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (3.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:26:48 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:26:48.450209', '2011-07-25 05:26:48.450209')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (1.0ms)
Rendered store/index.html.erb within layouts/application (158.0ms)
Completed 200 OK in 246ms (Views: 211.0ms | ActiveRecord: 17.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 13:26:48 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "cart_id", "product_id", "order_id", "created_at", "quantity") VALUES ('2011-07-25 05:26:48.724225', 980190963, 207281424, NULL, '2011-07-25 05:26:48.724225', 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (83.0ms)
Rendered carts/_cart.html.erb (108.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (128.0ms)
Completed 200 OK in 357ms (Views: 321.0ms | ActiveRecord: 4.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 13:26:49 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (33.0ms)
Rendered orders/new.html.erb within layouts/application (68.0ms)
Completed 200 OK in 107ms (Views: 103.0ms | ActiveRecord: 3.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 13:26:49 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "name", "updated_at", "address", "created_at", "pay_type") VALUES ('dave@example.com', 'Dave Thomas', '2011-07-25 05:26:49.197252', '123 The Street', '2011-07-25 05:26:49.197252', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-25 05:26:49.200252', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (34.0ms)
Rendered notifier/order_received.text.erb (46.0ms)

Sent mail to dave@example.com (155ms)
Date: Mon, 25 Jul 2011 13:26:49 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2cfe99a2aa6_1a941c22b5030245@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 538ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 13:26:49 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 05:26:49.736282', '2011-07-25 05:26:49.736282')[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (1.0ms)
Rendered store/index.html.erb within layouts/application (20.0ms)
Completed 200 OK in 26ms (Views: 20.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 06:04:40 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 06:04:40 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:40.000000', '2011-07-25 06:04:40.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (124.8ms)
Rendered carts/_cart.html.erb (156.0ms)
Completed 200 OK in 281ms (Views: 280.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 25 Jul 2011 06:04:40 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 06:04:40 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:42.028511', '2011-07-25 06:04:42.028511')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 06:04:42.059711', NULL, 980190963, 207281424, '2011-07-25 06:04:42.059711')
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:42.090911', '2011-07-25 06:04:42.090911')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 06:04:42.106511', NULL, 980190963, 207281424, '2011-07-25 06:04:42.106511')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (46.8ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 281ms (Views: 265.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (46.8ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:44.056515', '2011-07-25 06:04:44.056515')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:44.087715', '2011-07-25 06:04:44.087715')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("created_at", "name", "pay_type", "updated_at", "email", "address") VALUES ('2011-07-25 06:04:41.000000', 'Dave Thomas', 'Check', '2011-07-25 06:04:41.000000', 'dave@example.org', 'MyText')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (62ms)
Date: Mon, 25 Jul 2011 14:04:44 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e2d077c2c443_120c1832b508916e@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:44.508915', '2011-07-25 06:04:44.508915')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "updated_at", "order_id", "cart_id", "product_id", "created_at") VALUES (1, '2011-07-25 06:04:44.524515', NULL, 980190963, 207281424, '2011-07-25 06:04:44.524515')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "updated_at"=>Mon, 25 Jul 2011 06:04:41 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "description", "updated_at", "title", "created_at", "price") VALUES ('lorem.jpg', 'Wibbles are fun!', '2011-07-25 06:04:44.711716', 'Lorem Ipsum', '2011-07-25 06:04:44.711716', 19.95)[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-25 06:04:45.070516', "title" = 'Lorem Ipsum', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-25 06:04:45.101716', '2011-07-25 06:04:45.101716')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Jul 25 14:05:46 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 06:05:47.158625', '2011-07-25 06:05:47.158625')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (187.2ms)
Completed 200 OK in 281ms (Views: 249.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Mon Jul 25 14:05:47 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "cart_id", "created_at", "product_id", "updated_at", "order_id") VALUES (1, 980190963, '2011-07-25 06:05:47.486226', 207281424, '2011-07-25 06:05:47.486226', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (93.6ms)
Rendered carts/_cart.html.erb (124.8ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (156.0ms)
Completed 200 OK in 421ms (Views: 343.2ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Jul 25 14:05:47 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.8ms)
Rendered orders/new.html.erb within layouts/application (93.6ms)
Completed 200 OK in 140ms (Views: 140.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Jul 25 14:05:48 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "address", "pay_type", "created_at", "updated_at", "email") VALUES ('Dave Thomas', '123 The Street', 'Check', '2011-07-25 06:05:48.032227', '2011-07-25 06:05:48.032227', 'dave@example.com')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-25 06:05:48.047827' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (46.8ms)

Sent mail to dave@example.com (203ms)
Date: Mon, 25 Jul 2011 14:05:48 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e2d07bca0364_1f881c12b543225e@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/
Completed 302 Found in 702ms


Started GET "/" for 127.0.0.1 at Mon Jul 25 14:05:48 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-25 06:05:48.749828', '2011-07-25 06:05:48.749828')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:49.000000', '2011-07-28 03:49:49.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 172ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:50.289855', '2011-07-28 03:49:50.289855')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "quantity", "created_at", "product_id") VALUES (980190963, '2011-07-28 03:49:50.305455', NULL, 1, '2011-07-28 03:49:50.305455', 207281424)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:50.321055', '2011-07-28 03:49:50.321055')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "quantity", "created_at", "product_id") VALUES (980190963, '2011-07-28 03:49:50.321055', NULL, 1, '2011-07-28 03:49:50.321055', 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 187ms (Views: 171.6ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:51.678257', '2011-07-28 03:49:51.678257')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:51.709457', '2011-07-28 03:49:51.709457')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "name", "pay_type", "address", "created_at", "updated_at") VALUES ('dave@example.org', 'Dave Thomas', 'Check', 'MyText', '2011-07-28 03:49:49.000000', '2011-07-28 03:49:49.000000')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (109ms)
Date: Thu, 28 Jul 2011 11:49:51 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e30dc5fc40f1_1081852b54362cd@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 140ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:52.005858', '2011-07-28 03:49:52.005858')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "order_id", "quantity", "created_at", "product_id") VALUES (980190963, '2011-07-28 03:49:52.005858', NULL, 1, '2011-07-28 03:49:52.005858', 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:49:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("description", "updated_at", "title", "created_at", "image_url", "price") VALUES ('Wibbles are fun!', '2011-07-28 03:49:52.130658', 'Lorem Ipsum', '2011-07-28 03:49:52.130658', 'lorem.jpg', 19.95)[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "updated_at" = '2011-07-28 03:49:52.505058', "title" = 'Lorem Ipsum', "image_url" = 'lorem.jpg', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 03:49:52.614259', '2011-07-28 03:49:52.614259')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "hashed_password", "salt", "created_at", "name") VALUES ('2011-07-28 03:49:52.692259', '4f6a175a471a2f6bf4c23102a4a2febce866633e5f882c54adc16b947943bb51', '427708560.00788344685994402', '2011-07-28 03:49:52.692259', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 03:49:52.957459', "hashed_password" = '086bbd911e31840716da51bb8d81953684916386be233a18ed30412e1b0a712f', "salt" = '419698800.561573765340396', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 11:50:28 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:50:28.899922', '2011-07-28 03:50:28.899922')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 187.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 11:50:29 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "product_id", "cart_id", "updated_at", "order_id", "created_at") VALUES (1, 207281424, 980190963, '2011-07-28 03:50:29.196323', NULL, '2011-07-28 03:50:29.196323')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 250ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 11:50:29 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (31.2ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 11:50:29 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "pay_type", "created_at", "address", "email", "name") VALUES ('2011-07-28 03:50:29.477123', 'Check', '2011-07-28 03:50:29.477123', '123 The Street', 'dave@example.com', 'Dave Thomas')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-28 03:50:29.477123', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (0.0ms)

Sent mail to dave@example.com (140ms)
Date: Thu, 28 Jul 2011 11:50:29 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e30dc85c4774_4d41c12b543388f@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 406ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 11:50:29 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:50:29.867124', '2011-07-28 03:50:29.867124')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:28.000000', '2011-07-28 03:58:28.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 156ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:29.416783', '2011-07-28 03:58:29.416783')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "order_id", "quantity", "cart_id", "product_id", "updated_at") VALUES ('2011-07-28 03:58:29.432383', NULL, 1, 980190963, 207281424, '2011-07-28 03:58:29.432383')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:29.447983', '2011-07-28 03:58:29.447983')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "order_id", "quantity", "cart_id", "product_id", "updated_at") VALUES ('2011-07-28 03:58:29.447983', NULL, 1, 980190963, 207281424, '2011-07-28 03:58:29.447983')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:30.477585', '2011-07-28 03:58:30.477585')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:30.493185', '2011-07-28 03:58:30.493185')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("address", "email", "created_at", "updated_at", "pay_type", "name") VALUES ('MyText', 'dave@example.org', '2011-07-28 03:58:28.000000', '2011-07-28 03:58:28.000000', 'Check', 'Dave Thomas')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (109ms)
Date: Thu, 28 Jul 2011 11:58:30 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30de668b731_b9418bab58612d8@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 125ms
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:30.758385', '2011-07-28 03:58:30.758385')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "order_id", "quantity", "cart_id", "product_id", "updated_at") VALUES ('2011-07-28 03:58:30.773985', NULL, 1, 980190963, 207281424, '2011-07-28 03:58:30.773985')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 03:58:28 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("created_at", "description", "image_url", "price", "updated_at", "title") VALUES ('2011-07-28 03:58:30.898785', 'Wibbles are fun!', 'lorem.jpg', 19.95, '2011-07-28 03:58:30.898785', 'Lorem Ipsum')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95, "updated_at" = '2011-07-28 03:58:31.226386', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:58:31.413586', '2011-07-28 03:58:31.413586')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "created_at", "hashed_password", "salt", "name") VALUES ('2011-07-28 03:58:31.491586', '2011-07-28 03:58:31.491586', 'a195edf1d1a064adb0d64cc3c8755c1d474cb61826d8e44f3201045de9b38c59', '433121640.382983302845177', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 03:58:31.709987', "hashed_password" = 'c12f20c716674c0d5a2aeca89684e585ba341dd3263fd4cf6c073b05cc8ea1fb', "salt" = '425123400.198767123705889', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 11:59:09 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:59:09.930054', '2011-07-28 03:59:09.930054')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (156.0ms)
Completed 200 OK in 218ms (Views: 187.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 11:59:10 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "product_id", "created_at", "quantity", "order_id") VALUES (980190963, '2011-07-28 03:59:10.257655', 207281424, '2011-07-28 03:59:10.257655', 1, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 265ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 11:59:10 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 11:59:10 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "pay_type", "name", "email", "address", "created_at") VALUES ('2011-07-28 03:59:10.522855', 'Check', 'Dave Thomas', 'dave@example.com', '123 The Street', '2011-07-28 03:59:10.522855')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-28 03:59:10.522855', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (140ms)
Date: Thu, 28 Jul 2011 11:59:10 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30de8ededd8_8e41c7ab5881717@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 468ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 11:59:10 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 03:59:10.975256', '2011-07-28 03:59:10.975256')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (15.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (62.4ms)
Completed 200 OK in 125ms (Views: 109.2ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:11.000000', '2011-07-28 04:06:11.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (46.8ms)
Completed 200 OK in 250ms (Views: 156.0ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:12.204011', '2011-07-28 04:06:12.204011')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "updated_at", "created_at", "quantity", "order_id") VALUES (980190963, 207281424, '2011-07-28 04:06:12.219612', '2011-07-28 04:06:12.219612', 1, NULL)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:12.250812', '2011-07-28 04:06:12.250812')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "updated_at", "created_at", "quantity", "order_id") VALUES (980190963, 207281424, '2011-07-28 04:06:12.250812', '2011-07-28 04:06:12.250812', 1, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 234ms (Views: 234.0ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:13.748414', '2011-07-28 04:06:13.748414')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:13.779614', '2011-07-28 04:06:13.779614')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "updated_at", "name", "pay_type", "created_at", "address") VALUES ('dave@example.org', '2011-07-28 04:06:11.000000', 'Dave Thomas', 'Check', '2011-07-28 04:06:11.000000', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (172ms)
Date: Thu, 28 Jul 2011 12:06:13 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30e035dccde_d4c18bab587724@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 218ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 62.4ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:14.169615', '2011-07-28 04:06:14.169615')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "updated_at", "created_at", "quantity", "order_id") VALUES (980190963, 207281424, '2011-07-28 04:06:14.185215', '2011-07-28 04:06:14.185215', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 04:06:11 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "products" ("title", "description", "created_at", "image_url", "updated_at", "price") VALUES ('Lorem Ipsum', 'Wibbles are fun!', '2011-07-28 04:06:14.356815', 'lorem.jpg', '2011-07-28 04:06:14.356815', 19.95)[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 46.8ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "updated_at" = '2011-07-28 04:06:14.824816', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 04:06:15.090017', '2011-07-28 04:06:15.090017')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "created_at", "salt", "name", "hashed_password") VALUES ('2011-07-28 04:06:15.183617', '2011-07-28 04:06:15.183617', '431151480.666386310800092', 'sam', '59e0d8eb2701f967ffc09c5ad42b73953c47485445afefa80d4ddb8461f96b68')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 04:06:15.495617', "salt" = '423152880.503150979257574', "name" = 'sam', "hashed_password" = '59a59f46967f547f5476007c3e28e85b96bd5f0ab491440e44157ba042de3c97' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 12:07:04 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 04:07:04.573303', '2011-07-28 04:07:04.573303')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (187.2ms)
Completed 200 OK in 281ms (Views: 234.0ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 12:07:04 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "order_id", "cart_id", "quantity", "created_at") VALUES (207281424, '2011-07-28 04:07:04.963304', NULL, 980190963, 1, '2011-07-28 04:07:04.963304')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 359ms (Views: 249.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 12:07:05 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (62.4ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 12:07:05 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "updated_at", "address", "pay_type", "created_at", "email") VALUES ('Dave Thomas', '2011-07-28 04:07:05.353305', '123 The Street', 'Check', '2011-07-28 04:07:05.353305', 'dave@example.com')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-28 04:07:05.353305', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (172ms)
Date: Thu, 28 Jul 2011 12:07:05 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30e069c883a_f8818bab5837084@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 546ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 12:07:05 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 04:07:05.899306', '2011-07-28 04:07:05.899306')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (93.6ms)
Completed 200 OK in 156ms (Views: 140.4ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:38.000000', '2011-07-28 05:00:38.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 156ms (Views: 93.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:39.069562', '2011-07-28 05:00:39.069562')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "quantity", "product_id") VALUES (980190963, NULL, '2011-07-28 05:00:39.069562', '2011-07-28 05:00:39.069562', 1, 207281424)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:39.100762', '2011-07-28 05:00:39.100762')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "quantity", "product_id") VALUES (980190963, NULL, '2011-07-28 05:00:39.100762', '2011-07-28 05:00:39.100762', 1, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:40.754365', '2011-07-28 05:00:40.754365')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:40.785565', '2011-07-28 05:00:40.785565')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "email", "created_at", "address", "pay_type", "updated_at") VALUES ('Dave Thomas', 'dave@example.org', '2011-07-28 05:00:38.000000', 'MyText', 'Check', '2011-07-28 05:00:38.000000')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Thu, 28 Jul 2011 13:00:40 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30ecf8d2d4d_58818eab5827960@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 109ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:41.081966', '2011-07-28 05:00:41.081966')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "created_at", "updated_at", "quantity", "product_id") VALUES (980190963, NULL, '2011-07-28 05:00:41.081966', '2011-07-28 05:00:41.081966', 1, 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:00:38 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "products" ("description", "created_at", "title", "price", "updated_at", "image_url") VALUES ('Wibbles are fun!', '2011-07-28 05:00:41.300366', 'Lorem Ipsum', 19.95, '2011-07-28 05:00:41.300366', 'lorem.jpg')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 140ms (Views: 140.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-28 05:00:41.752767', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#create as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1
Redirected to http://test.host/login?locale=en
Completed 302 Found in 16ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#new as HTML
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:00:41.971167', '2011-07-28 05:00:41.971167')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "name", "hashed_password", "salt", "created_at") VALUES ('2011-07-28 05:00:42.064767', 'sam', 'd2deadb05af6d86329f4ab35a3f9a3b08d58ff4f0edff470c0cc947eb1d67f4c', '513672480.755690868989796', '2011-07-28 05:00:42.064767')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 05:00:42.392368', "name" = 'sam', "hashed_password" = 'fca40d61cd755b1978af40c2289877a688c272c7e9e83d19dd34f332aa131ddc', "salt" = '506042400.345339587967843' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (15.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:01:17 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:01:17.596025', '2011-07-28 05:01:17.596025')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 187.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:01:17 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "created_at", "updated_at", "order_id", "quantity") VALUES (980190963, 207281424, '2011-07-28 05:01:17.892426', '2011-07-28 05:01:17.892426', NULL, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 250ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:01:18 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:01:18 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "created_at", "updated_at", "address", "pay_type", "email") VALUES ('Dave Thomas', '2011-07-28 05:01:18.157626', '2011-07-28 05:01:18.157626', '123 The Street', 'Check', 'dave@example.com')
  [1m[36mAREL (15.6ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-28 05:01:18.157626' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 13:01:18 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30ed1e7a45b_fe01c9ab5047966@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 390ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:01:18 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:01:18.547627', '2011-07-28 05:01:18.547627')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:13.000000', '2011-07-28 05:03:13.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 172ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:13.928216', '2011-07-28 05:03:13.928216')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "updated_at", "order_id", "quantity", "created_at") VALUES (207281424, 980190963, '2011-07-28 05:03:13.943816', NULL, 1, '2011-07-28 05:03:13.943816')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:13.959416', '2011-07-28 05:03:13.959416')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "updated_at", "order_id", "quantity", "created_at") VALUES (207281424, 980190963, '2011-07-28 05:03:13.959416', NULL, 1, '2011-07-28 05:03:13.959416')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 171.6ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:15.207419', '2011-07-28 05:03:15.207419')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:15.223019', '2011-07-28 05:03:15.223019')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "address", "updated_at", "pay_type", "email", "name") VALUES ('2011-07-28 05:03:13.000000', 'MyText', '2011-07-28 05:03:13.000000', 'Check', 'dave@example.org', 'Dave Thomas')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 13:03:15 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30ed9345aeb_25018bab58657ae@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 78ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:15.441419', '2011-07-28 05:03:15.441419')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "updated_at", "order_id", "quantity", "created_at") VALUES (207281424, 980190963, '2011-07-28 05:03:15.457019', NULL, 1, '2011-07-28 05:03:15.457019')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:03:13 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("title", "created_at", "price", "updated_at", "image_url", "description") VALUES ('Lorem Ipsum', '2011-07-28 05:03:15.566219', 19.95, '2011-07-28 05:03:15.566219', 'lorem.jpg', 'Wibbles are fun!')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-28 05:03:15.893820', "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:16.081020', '2011-07-28 05:03:16.081020')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("salt", "created_at", "updated_at", "name", "hashed_password") VALUES ('428883000.70828315820653', '2011-07-28 05:03:16.159020', '2011-07-28 05:03:16.159020', 'sam', 'a6b5fab294278d5b61ea9bd94b33c7fffbc6565c9cc1a022a5ed14aef570123d')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "salt" = '421661280.371972095532926', "updated_at" = '2011-07-28 05:03:16.377421', "name" = 'sam', "hashed_password" = 'f233c68ad5e2160226dfee5b0b393e57e904a9378527970ead0f93d00180e3ed' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:03:50 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:50.915881', '2011-07-28 05:03:50.915881')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:03:51 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "cart_id", "updated_at", "created_at", "product_id", "order_id") VALUES (1, 980190963, '2011-07-28 05:03:51.196682', '2011-07-28 05:03:51.196682', 207281424, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 250ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:03:51 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:03:51 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "address", "pay_type", "name", "updated_at", "created_at") VALUES ('dave@example.com', '123 The Street', 'Check', 'Dave Thomas', '2011-07-28 05:03:51.461882', '2011-07-28 05:03:51.461882')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-28 05:03:51.461882', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 13:03:51 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30edb7c0beb_bfc1232b5074778@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 374ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:03:51 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:03:51.851883', '2011-07-28 05:03:51.851883')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 125ms (Views: 109.2ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:10.000000', '2011-07-28 05:41:10.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (31.2ms)
Rendered carts/_cart.html.erb (62.4ms)
Completed 200 OK in 218ms (Views: 140.4ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:11.705687', '2011-07-28 05:41:11.705687')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("quantity", "updated_at", "product_id", "created_at", "cart_id", "order_id") VALUES (1, '2011-07-28 05:41:11.705687', 207281424, '2011-07-28 05:41:11.705687', 980190963, NULL)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:11.736887', '2011-07-28 05:41:11.736887')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "updated_at", "product_id", "created_at", "cart_id", "order_id") VALUES (1, '2011-07-28 05:41:11.736887', 207281424, '2011-07-28 05:41:11.736887', 980190963, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 374ms (Views: 374.4ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:13.484090', '2011-07-28 05:41:13.484090')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:13.515290', '2011-07-28 05:41:13.515290')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "email", "created_at", "name", "pay_type", "address") VALUES ('2011-07-28 05:41:10.000000', 'dave@example.org', '2011-07-28 05:41:10.000000', 'Dave Thomas', 'Check', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Thu, 28 Jul 2011 13:41:13 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30f67990d8a_c181a2b5487145@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 78ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:13.764891', '2011-07-28 05:41:13.764891')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "updated_at", "product_id", "created_at", "cart_id", "order_id") VALUES (1, '2011-07-28 05:41:13.764891', 207281424, '2011-07-28 05:41:13.764891', 980190963, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:41:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("created_at", "title", "image_url", "price", "updated_at", "description") VALUES ('2011-07-28 05:41:13.936491', 'Lorem Ipsum', 'lorem.jpg', 19.95, '2011-07-28 05:41:13.936491', 'Wibbles are fun!')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 187ms (Views: 187.2ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "image_url" = 'lorem.jpg', "price" = 19.95, "updated_at" = '2011-07-28 05:41:14.435692', "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:41:14.763292', '2011-07-28 05:41:14.763292')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "hashed_password", "name", "created_at", "salt") VALUES ('2011-07-28 05:41:14.856892', '8e053da4fa9a1bb5eaf3d00e4abddae9e77c695cff476f919eddd2e2ecfa5df4', 'sam', '2011-07-28 05:41:14.856892', '513364560.596054572608218')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 05:41:15.153293', "hashed_password" = '5aa71e0c7a9c61c9fd6aad8edc42b5ae59496c9ff5719d51f18385323237717a', "name" = 'sam', "salt" = '506104680.439837500205143' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:42:05 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:42:05.831404', '2011-07-28 05:42:05.831404')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (171.6ms)
Completed 200 OK in 234ms (Views: 202.8ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:42:06 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "order_id", "created_at", "cart_id", "quantity") VALUES (207281424, '2011-07-28 05:42:06.174605', NULL, '2011-07-28 05:42:06.174605', 980190963, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (62.4ms)
Completed 200 OK in 312ms (Views: 218.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:42:06 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 15.6ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:42:06 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "created_at", "email", "pay_type", "name", "address") VALUES ('2011-07-28 05:42:06.517805', '2011-07-28 05:42:06.517805', 'dave@example.com', 'Check', 'Dave Thomas', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-28 05:42:06.517805', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (0.0ms)

Sent mail to dave@example.com (140ms)
Date: Thu, 28 Jul 2011 13:42:06 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30f6aedda1e_860127ab506944@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 468ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:42:06 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:42:06.985806', '2011-07-28 05:42:06.985806')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:47:39 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:47:39.619595', '2011-07-28 05:47:39.619595')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:47:39 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "order_id", "product_id", "created_at", "cart_id", "quantity") VALUES ('2011-07-28 05:47:39.915996', NULL, 207281424, '2011-07-28 05:47:39.915996', 980190963, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 250ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:47:40 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:47:40 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("address", "name", "updated_at", "created_at", "pay_type", "email") VALUES ('123 The Street', 'Dave Thomas', '2011-07-28 05:47:40.181196', '2011-07-28 05:47:40.181196', 'Check', 'dave@example.com')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-28 05:47:40.196796', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 13:47:40 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30f7fc8006d_ee01c0ab50766f@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 390ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:47:40 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:47:40.586797', '2011-07-28 05:47:40.586797')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:52.000000', '2011-07-28 05:49:52.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 172ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:52.984230', '2011-07-28 05:49:52.984230')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "product_id", "quantity", "created_at", "order_id", "updated_at") VALUES (980190963, 207281424, 1, '2011-07-28 05:49:52.999830', NULL, '2011-07-28 05:49:52.999830')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:53.015430', '2011-07-28 05:49:53.015430')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "quantity", "created_at", "order_id", "updated_at") VALUES (980190963, 207281424, 1, '2011-07-28 05:49:53.031030', NULL, '2011-07-28 05:49:53.031030')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 156.0ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:54.201032', '2011-07-28 05:49:54.201032')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:54.216632', '2011-07-28 05:49:54.216632')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "address", "pay_type", "created_at") VALUES ('2011-07-28 05:49:52.000000', 'Dave Thomas', 'dave@example.org', 'MyText', 'Check', '2011-07-28 05:49:52.000000')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 13:49:54 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30f88240508_5b018bab5862339@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 62ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:54.403832', '2011-07-28 05:49:54.403832')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "quantity", "created_at", "order_id", "updated_at") VALUES (980190963, 207281424, 1, '2011-07-28 05:49:54.403832', NULL, '2011-07-28 05:49:54.403832')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:49:52 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "created_at", "title", "updated_at", "description", "image_url") VALUES (19.95, '2011-07-28 05:49:54.528632', 'Lorem Ipsum', '2011-07-28 05:49:54.528632', 'Wibbles are fun!', 'lorem.jpg')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "title" = 'Lorem Ipsum', "updated_at" = '2011-07-28 05:49:54.825033', "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:49:55.012233', '2011-07-28 05:49:55.012233')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "users" ("hashed_password", "updated_at", "created_at", "salt", "name") VALUES ('8952f4e02a03f526a4ee892a44a11cdd5db6a405ba956fd68a5c5d4352eefabc', '2011-07-28 05:49:55.074633', '2011-07-28 05:49:55.074633', '514019280.172716676616268', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "hashed_password" = 'af75c139df46bc177d7903610c6319be48203e4711cda4aa40eef2a4a3b84c55', "updated_at" = '2011-07-28 05:49:55.308634', "salt" = '506759520.373825308191079', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:50:31 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:50:31.204297', '2011-07-28 05:50:31.204297')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (156.0ms)
Completed 200 OK in 218ms (Views: 187.2ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:50:31 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "updated_at", "cart_id", "created_at", "product_id", "quantity") VALUES (NULL, '2011-07-28 05:50:31.500697', 980190963, '2011-07-28 05:50:31.500697', 207281424, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 265ms (Views: 171.6ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:50:31 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:50:31 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("pay_type", "created_at", "updated_at", "address", "name", "email") VALUES ('Check', '2011-07-28 05:50:31.765898', '2011-07-28 05:50:31.765898', '123 The Street', 'Dave Thomas', 'dave@example.com')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "order_id" = 980190963, "updated_at" = '2011-07-28 05:50:31.781498', "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 13:50:32 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30f8a81e71a_2bc18bab584868d@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 406ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:50:32 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 05:50:32.187098', '2011-07-28 05:50:32.187098')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (70.0ms)
Completed 200 OK in 160ms (Views: 140.0ms | ActiveRecord: 10.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (10.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:52.000000', '2011-07-28 05:52:52.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 10ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 30ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (20.0ms)
Rendered carts/_cart.html.erb (50.0ms)
Completed 200 OK in 220ms (Views: 140.0ms | ActiveRecord: 10.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 40ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (10.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (10.0ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:53.942164', '2011-07-28 05:52:53.942164')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "order_id", "product_id", "created_at", "quantity", "cart_id") VALUES ('2011-07-28 05:52:53.952164', NULL, 207281424, '2011-07-28 05:52:53.952164', 1, 980190963)
Redirected to http://test.host/en
Completed 302 Found in 20ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:53.992164', '2011-07-28 05:52:53.992164')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "order_id", "product_id", "created_at", "quantity", "cart_id") VALUES ('2011-07-28 05:52:54.002164', NULL, 207281424, '2011-07-28 05:52:54.002164', 1, 980190963)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (10.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (40.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 260ms (Views: 240.0ms | ActiveRecord: 10.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (10.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:55.858967', '2011-07-28 05:52:55.858967')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 10ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:55.888967', '2011-07-28 05:52:55.888967')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("pay_type", "updated_at", "created_at", "name", "email", "address") VALUES ('Check', '2011-07-28 05:52:52.000000', '2011-07-28 05:52:52.000000', 'Dave Thomas', 'dave@example.org', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (70ms)
Date: Thu, 28 Jul 2011 13:52:55 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e30f937ef017_1244186ab5497047@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 100ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (10.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 10ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (20.0ms)
Completed 200 OK in 80ms (Views: 80.0ms | ActiveRecord: 20.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 70ms (Views: 60.0ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (10.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:56.218967', '2011-07-28 05:52:56.218967')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "order_id", "product_id", "created_at", "quantity", "cart_id") VALUES ('2011-07-28 05:52:56.238967', NULL, 207281424, '2011-07-28 05:52:56.238967', 1, 980190963)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 10.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 05:52:52 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 10ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "description", "title", "price", "created_at", "updated_at") VALUES ('lorem.jpg', 'Wibbles are fun!', 'Lorem Ipsum', 19.95, '2011-07-28 05:52:56.468968', '2011-07-28 05:52:56.468968')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 10ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 20ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (10.0ms)
Completed 200 OK in 93ms (Views: 83.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 187ms (Views: 177.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-28 05:52:56.969976' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:52:57.172777', '2011-07-28 05:52:57.172777')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("salt", "hashed_password", "created_at", "updated_at", "name") VALUES ('510380520.0788141873553059', 'e2e441c32cbab988b64e02fadf785911c585cece305292dea54e999821774ca5', '2011-07-28 05:52:57.297577', '2011-07-28 05:52:57.297577', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "salt" = '502496400.131751540599645', "hashed_password" = '987b49e35f7e7e9e025e5047b7b5aee4fccea0790ef015058745b84ce176d298', "updated_at" = '2011-07-28 05:52:57.687577', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (10.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 13:53:51 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:53:51.241482', '2011-07-28 05:53:51.241482')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (10.0ms)
Rendered store/index.html.erb within layouts/application (160.0ms)
Completed 200 OK in 230ms (Views: 200.0ms | ActiveRecord: 20.0ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 13:53:51 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "created_at", "order_id", "product_id", "quantity", "cart_id") VALUES ('2011-07-28 05:53:51.561483', '2011-07-28 05:53:51.561483', NULL, 207281424, 1, 980190963)[0m
  [1m[35mSQL (10.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (10.0ms)
Rendered carts/_cart.html.erb (40.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (60.0ms)
Completed 200 OK in 320ms (Views: 210.0ms | ActiveRecord: 10.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 13:53:51 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (30.0ms)
Rendered orders/new.html.erb within layouts/application (60.0ms)
Completed 200 OK in 90ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 13:53:51 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "created_at", "email", "pay_type", "updated_at", "address") VALUES ('Dave Thomas', '2011-07-28 05:53:51.921483', 'dave@example.com', 'Check', '2011-07-28 05:53:51.921483', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-07-28 05:53:51.921483', "order_id" = 980190963, "cart_id" = NULL WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (10.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (10.0ms)
Rendered notifier/order_received.text.erb (20.0ms)

Sent mail to dave@example.com (140ms)
Date: Thu, 28 Jul 2011 13:53:52 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e30f970535ec_13e01232b5052491@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 500ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 13:53:52 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 05:53:52.421484', '2011-07-28 05:53:52.421484')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (20.0ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 10.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:53.000000', '2011-07-28 09:04:53.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 172ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:54.443394', '2011-07-28 09:04:54.443394')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "created_at", "cart_id", "order_id", "quantity", "updated_at") VALUES (207281424, '2011-07-28 09:04:54.458994', 980190963, NULL, 1, '2011-07-28 09:04:54.458994')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:54.474594', '2011-07-28 09:04:54.474594')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "created_at", "cart_id", "order_id", "quantity", "updated_at") VALUES (207281424, '2011-07-28 09:04:54.474594', 980190963, NULL, 1, '2011-07-28 09:04:54.474594')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 156.0ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:55.691396', '2011-07-28 09:04:55.691396')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:55.706996', '2011-07-28 09:04:55.706996')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "address", "created_at", "name", "updated_at", "pay_type") VALUES ('dave@example.org', 'MyText', '2011-07-28 09:04:53.000000', 'Dave Thomas', '2011-07-28 09:04:53.000000', 'Check')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 17:04:55 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e312637bbd74_6781832b504329d@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 62ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:55.909796', '2011-07-28 09:04:55.909796')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "created_at", "cart_id", "order_id", "quantity", "updated_at") VALUES (207281424, '2011-07-28 09:04:55.909796', 980190963, NULL, 1, '2011-07-28 09:04:55.909796')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:04:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "updated_at", "price", "description", "title", "created_at") VALUES ('lorem.jpg', '2011-07-28 09:04:56.034597', 19.95, 'Wibbles are fun!', 'Lorem Ipsum', '2011-07-28 09:04:56.034597')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "updated_at" = '2011-07-28 09:04:56.346597', "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:04:56.533798', '2011-07-28 09:04:56.533798')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "name", "salt", "created_at", "hashed_password") VALUES ('2011-07-28 09:04:56.611798', 'sam', '509424600.68093163072592', '2011-07-28 09:04:56.611798', '3edf7e3ae80e961127469cb89348b3cbd39dff94b4035668d10ee65d129a2189')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 09:04:56.830198', "name" = 'sam', "salt" = '502166880.810379718685193', "hashed_password" = '3cacb8ff100719c5abfd7ddb7fdb3f704a192975d935af4b7c40ef357d49e030' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 17:05:33 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:05:33.178262', '2011-07-28 09:05:33.178262')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 17:05:33 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "product_id", "quantity", "order_id", "updated_at") VALUES (980190963, '2011-07-28 09:05:33.474662', 207281424, 1, NULL, '2011-07-28 09:05:33.474662')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.8ms)
Completed 200 OK in 250ms (Views: 171.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 17:05:33 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (46.8ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 17:05:33 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "pay_type", "name", "email", "created_at", "address") VALUES ('2011-07-28 09:05:33.739863', 'Check', 'Dave Thomas', 'dave@example.com', '2011-07-28 09:05:33.739863', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-28 09:05:33.755463' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (0.0ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 17:05:34 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e31265e14478_91018bab5887551@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 390ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 17:05:34 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:05:34.145464', '2011-07-28 09:05:34.145464')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (46.8ms)
Completed 200 OK in 94ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:32.000000', '2011-07-28 09:10:32.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 156ms (Views: 93.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:33.584793', '2011-07-28 09:10:33.584793')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("updated_at", "quantity", "product_id", "cart_id", "order_id", "created_at") VALUES ('2011-07-28 09:10:33.584793', 1, 207281424, 980190963, NULL, '2011-07-28 09:10:33.584793')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:33.615994', '2011-07-28 09:10:33.615994')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "product_id", "cart_id", "order_id", "created_at") VALUES ('2011-07-28 09:10:33.615994', 1, 207281424, 980190963, NULL, '2011-07-28 09:10:33.615994')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 156ms (Views: 156.0ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:34.754796', '2011-07-28 09:10:34.754796')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:34.785996', '2011-07-28 09:10:34.785996')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "pay_type", "email", "updated_at", "name", "address") VALUES ('2011-07-28 09:10:32.000000', 'Check', 'dave@example.org', '2011-07-28 09:10:32.000000', 'Dave Thomas', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 17:10:34 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e31278acb51c_5a81832b506563c@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 62ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:34.957596', '2011-07-28 09:10:34.957596')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "quantity", "product_id", "cart_id", "order_id", "created_at") VALUES ('2011-07-28 09:10:34.973196', 1, 207281424, 980190963, NULL, '2011-07-28 09:10:34.973196')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:10:32 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "title", "updated_at", "price", "created_at", "description") VALUES ('lorem.jpg', 'Lorem Ipsum', '2011-07-28 09:10:35.082396', 19.95, '2011-07-28 09:10:35.082396', 'Wibbles are fun!')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 94ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-28 09:10:35.378797', "price" = 19.95, "description" = 'Wibbles are fun!' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:10:35.550397', '2011-07-28 09:10:35.550397')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "hashed_password", "updated_at", "created_at", "salt") VALUES ('sam', '983929b5806ebcbeaf903b3f7f14fd6279b485430beb91e96d786ae7c32004a3', '2011-07-28 09:10:35.628397', '2011-07-28 09:10:35.628397', '507946680.852078515773584')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mUPDATE "users" SET "name" = 'sam', "hashed_password" = '618411eb49cb50d7fd1140628dbe7b9f24710a4ae040602b22d614aa997b6a4f', "updated_at" = '2011-07-28 09:10:35.815597', "salt" = '500762040.48731665590902' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:53.000000', '2011-07-28 09:19:53.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 156ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:54.518179', '2011-07-28 09:19:54.518179')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "updated_at", "order_id", "cart_id", "created_at") VALUES (207281424, 1, '2011-07-28 09:19:54.518179', NULL, 980190963, '2011-07-28 09:19:54.518179')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:54.533779', '2011-07-28 09:19:54.533779')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "updated_at", "order_id", "cart_id", "created_at") VALUES (207281424, 1, '2011-07-28 09:19:54.549379', NULL, 980190963, '2011-07-28 09:19:54.549379')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 172ms (Views: 140.4ms | ActiveRecord: 31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:55.672581', '2011-07-28 09:19:55.672581')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:55.688181', '2011-07-28 09:19:55.688181')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("email", "created_at", "name", "updated_at", "address", "pay_type") VALUES ('dave@example.org', '2011-07-28 09:19:53.000000', 'Dave Thomas', '2011-07-28 09:19:53.000000', 'MyText', 'Check')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 17:19:55 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e3129bbb73f6_750194ab5825159@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 62ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:55.875382', '2011-07-28 09:19:55.875382')[0m
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "updated_at", "order_id", "cart_id", "created_at") VALUES (207281424, 1, '2011-07-28 09:19:55.890982', NULL, 980190963, '2011-07-28 09:19:55.890982')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:19:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("created_at", "image_url", "description", "updated_at", "title", "price") VALUES ('2011-07-28 09:19:56.000182', 'lorem.jpg', 'Wibbles are fun!', '2011-07-28 09:19:56.000182', 'Lorem Ipsum', 19.95)[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-28 09:19:56.296583', "title" = 'Lorem Ipsum', "price" = 19.95 WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:19:56.468183', '2011-07-28 09:19:56.468183')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "hashed_password", "salt", "created_at", "name") VALUES ('2011-07-28 09:19:56.530583', 'b08cb240ed9a32c171ef7534a917682615e1564321599c44d6db10ebac3cf5b5', '513491400.428720691457605', '2011-07-28 09:19:56.530583', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 09:19:56.717783', "hashed_password" = '5a05e96e541e569a119a0d4bf487af577e69687ffd9846cd7b62682257102a9d', "salt" = '506311080.674287724131564', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Thu Jul 28 17:20:29 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:20:29.665041', '2011-07-28 09:20:29.665041')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.4ms)
Completed 200 OK in 203ms (Views: 171.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Thu Jul 28 17:20:29 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "created_at", "order_id", "quantity", "cart_id", "updated_at") VALUES (207281424, '2011-07-28 09:20:29.930242', NULL, 1, 980190963, '2011-07-28 09:20:29.930242')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (31.2ms)
Completed 200 OK in 234ms (Views: 156.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Thu Jul 28 17:20:30 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.2ms)
Rendered orders/new.html.erb within layouts/application (31.2ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Thu Jul 28 17:20:30 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("pay_type", "created_at", "updated_at", "name", "email", "address") VALUES ('Check', '2011-07-28 09:20:30.179842', '2011-07-28 09:20:30.179842', 'Dave Thomas', 'dave@example.com', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "order_id" = 980190963, "cart_id" = NULL, "updated_at" = '2011-07-28 09:20:30.179842' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
Rendered notifier/order_received.text.erb (0.0ms)

Sent mail to dave@example.com (125ms)
Date: Thu, 28 Jul 2011 17:20:30 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e3129de7be33_fb01c22b50250d6@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 374ms


Started GET "/en" for 127.0.0.1 at Thu Jul 28 17:20:30 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-28 09:20:30.569843', '2011-07-28 09:20:30.569843')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 78ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:04.000000', '2011-07-28 09:22:04.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
Completed 200 OK in 156ms (Views: 93.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:05.199609', '2011-07-28 09:22:05.199609')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "order_id", "product_id", "updated_at", "quantity", "created_at") VALUES (980190963, NULL, 207281424, '2011-07-28 09:22:05.199609', 1, '2011-07-28 09:22:05.199609')
Redirected to http://test.host/en
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:05.230809', '2011-07-28 09:22:05.230809')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "product_id", "updated_at", "quantity", "created_at") VALUES (980190963, NULL, 207281424, '2011-07-28 09:22:05.230809', 1, '2011-07-28 09:22:05.230809')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 156ms (Views: 156.0ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:06.354011', '2011-07-28 09:22:06.354011')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 31ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:06.385211', '2011-07-28 09:22:06.385211')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "pay_type", "created_at", "updated_at", "email", "address") VALUES ('Dave Thomas', 'Check', '2011-07-28 09:22:04.000000', '2011-07-28 09:22:04.000000', 'dave@example.org', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (31ms)
Date: Thu, 28 Jul 2011 17:22:06 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e312a3e6978b_38818bab584079f@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 62ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:06.556811', '2011-07-28 09:22:06.556811')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "order_id", "product_id", "updated_at", "quantity", "created_at") VALUES (980190963, NULL, 207281424, '2011-07-28 09:22:06.572411', 1, '2011-07-28 09:22:06.572411')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 09:22:04 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "description", "title", "created_at", "price", "updated_at") VALUES ('lorem.jpg', 'Wibbles are fun!', 'Lorem Ipsum', '2011-07-28 09:22:06.681612', 19.95, '2011-07-28 09:22:06.681612')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 109ms (Views: 109.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-28 09:22:06.978012' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 09:22:07.071612', '2011-07-28 09:22:07.071612')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "users" ("updated_at", "created_at", "hashed_password", "salt", "name") VALUES ('2011-07-28 09:22:07.134012', '2011-07-28 09:22:07.134012', '24a2fcf100570094480d078fbb26ad7d387201085d99634676d90a53a61b706c', '515349000.193321623326951', 'sam')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.8ms | ActiveRecord: 31.2ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-07-28 09:22:07.352413', "hashed_password" = 'da080ca51a9e530140a26e4662e3d31d45f3f689ea741c89d77bf4bfc5f3c09f', "salt" = '507572760.761934973263762', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (159.0ms)
Completed 200 OK in 290ms (Views: 255.0ms | ActiveRecord: 8.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (6.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:30.000000', '2011-07-28 13:39:30.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 17ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (4.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 41ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (5.0ms)
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (65.0ms)
Rendered carts/_cart.html.erb (104.0ms)
Completed 200 OK in 340ms (Views: 226.0ms | ActiveRecord: 18.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 67ms (Views: 63.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (5.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 59.0ms | ActiveRecord: 2.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (5.0ms)
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered carts/_cart.html.erb (9.0ms)
Completed 200 OK in 73ms (Views: 68.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 6ms
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:32.037135', '2011-07-28 13:39:32.037135')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "quantity", "order_id", "created_at") VALUES ('2011-07-28 13:39:32.048136', 207281424, 980190963, 1, NULL, '2011-07-28 13:39:32.048136')
Redirected to http://test.host/en
Completed 302 Found in 21ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (3.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:32.085138', '2011-07-28 13:39:32.085138')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "quantity", "order_id", "created_at") VALUES ('2011-07-28 13:39:32.099139', 207281424, 980190963, 1, NULL, '2011-07-28 13:39:32.099139')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (4.0ms)
Rendered carts/_cart.html.erb (60.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 452ms (Views: 431.0ms | ActiveRecord: 12.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (19.0ms)
Completed 200 OK in 125ms (Views: 120.0ms | ActiveRecord: 7.0ms)
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 66ms (Views: 61.0ms | ActiveRecord: 3.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (9.0ms)
Completed 200 OK in 79ms (Views: 75.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 55ms (Views: 50.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 9ms
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (3.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (4.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (6.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:35.180315', '2011-07-28 13:39:35.180315')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 14ms
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (5.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:35.261320', '2011-07-28 13:39:35.261320')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "created_at", "name", "pay_type", "email", "address") VALUES ('2011-07-28 13:39:30.000000', '2011-07-28 13:39:30.000000', 'Dave Thomas', 'Check', 'dave@example.org', 'MyText')
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (71ms)
Date: Thu, 28 Jul 2011 21:39:35 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e31669765a49_14f8190ab50462b1@Vincent-G-PC.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 179ms
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (2.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 13ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (16.0ms)
Completed 200 OK in 139ms (Views: 135.0ms | ActiveRecord: 25.0ms)
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 71ms (Views: 66.0ms | ActiveRecord: 2.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:35.757348', '2011-07-28 13:39:35.757348')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "product_id", "cart_id", "quantity", "order_id", "created_at") VALUES ('2011-07-28 13:39:35.768349', 207281424, 980190963, 1, NULL, '2011-07-28 13:39:35.768349')[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (6.0ms)
Completed 200 OK in 65ms (Views: 58.0ms | ActiveRecord: 5.0ms)
  [1m[35mOrder Load (2.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 58ms (Views: 51.0ms | ActiveRecord: 2.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "updated_at"=>Thu, 28 Jul 2011 13:39:30 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 18ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("price", "created_at", "description", "title", "updated_at", "image_url") VALUES (19.95, '2011-07-28 13:39:36.045365', 'Wibbles are fun!', 'Lorem Ipsum', '2011-07-28 13:39:36.045365', 'lorem.jpg')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 18ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 30ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (14.0ms)
Completed 200 OK in 141ms (Views: 136.0ms | ActiveRecord: 16.0ms)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 285ms (Views: 271.0ms | ActiveRecord: 2.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (14.0ms)
Completed 200 OK in 90ms (Views: 87.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 58ms (Views: 49.0ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'Lorem Ipsum', "updated_at" = '2011-07-28 13:39:36.799408', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 19ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 5ms
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 7ms
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 2ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 73ms (Views: 72.0ms | ActiveRecord: 8.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 4ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 2ms
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (10.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-28 13:39:37.017420', '2011-07-28 13:39:37.017420')[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 106ms (Views: 87.0ms | ActiveRecord: 14.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mINSERT INTO "users" ("name", "hashed_password", "salt", "updated_at", "created_at") VALUES ('sam', '41efb7e814d14ac9614216358493244429b1d7af9af1181000f4e8a28909222a', '516869520.945027751008386', '2011-07-28 13:39:37.181430', '2011-07-28 13:39:37.181430')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 22ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (4.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 13ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (9.0ms)
Completed 200 OK in 154ms (Views: 144.0ms | ActiveRecord: 14.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 64ms (Views: 60.0ms | ActiveRecord: 3.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (15.0ms)
Completed 200 OK in 69ms (Views: 65.0ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 62ms (Views: 57.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (3.0ms)[0m  [1mUPDATE "users" SET "name" = 'sam', "hashed_password" = 'df5975b31d26e4be3fc04f057cab0bcf3d1eed91364db9635006774b8a7c52a7', "salt" = '508992840.321011989521805', "updated_at" = '2011-07-28 13:39:37.699459' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 23ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (267.0ms)
Completed 200 OK in 367ms (Views: 340.0ms | ActiveRecord: 2.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "updated_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:16.000000', '2011-08-08 01:32:16.000000')
Redirected to http://test.host/en/carts/980190963
Completed 302 Found in 7ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/en
Completed 302 Found in 22ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (3.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (18.0ms)
Rendered carts/_cart.html.erb (81.0ms)
Completed 200 OK in 194ms (Views: 192.0ms | ActiveRecord: 3.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 88ms (Views: 86.0ms | ActiveRecord: 1.0ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (2.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 28ms (Views: 25.0ms | ActiveRecord: 1.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (3.0ms)
Rendered line_items/_line_item.html.erb (1.0ms)
Rendered carts/_cart.html.erb (5.0ms)
Completed 200 OK in 48ms (Views: 41.0ms | ActiveRecord: 4.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "updated_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/carts/980190962
Completed 302 Found in 7ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:18.334631', '2011-08-08 01:32:18.334631')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("cart_id", "updated_at", "quantity", "product_id", "created_at", "order_id") VALUES (980190963, '2011-08-08 01:32:18.343631', 1, 207281424, '2011-08-08 01:32:18.343631', NULL)
Redirected to http://test.host/en
Completed 302 Found in 14ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:18.364633', '2011-08-08 01:32:18.364633')
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "quantity", "product_id", "created_at", "order_id") VALUES (980190963, '2011-08-08 01:32:18.370633', 1, 207281424, '2011-08-08 01:32:18.370633', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (2.0ms)
Rendered carts/_cart.html.erb (44.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 267ms (Views: 259.0ms | ActiveRecord: 6.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/en/line_items
Completed 302 Found in 6ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (6.0ms)
Completed 200 OK in 81ms (Views: 77.0ms | ActiveRecord: 4.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 51ms (Views: 49.0ms | ActiveRecord: 1.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (5.0ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 1.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/line_items/980190962
Completed 302 Found in 7ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (3.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (3.0ms)
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:20.876776', '2011-08-08 01:32:20.876776')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/en
Completed 302 Found in 6ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "updated_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (2.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:20.900778', '2011-08-08 01:32:20.900778')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("name", "address", "created_at", "updated_at", "email", "pay_type") VALUES ('Dave Thomas', 'MyText', '2011-08-08 01:32:16.000000', '2011-08-08 01:32:16.000000', 'dave@example.org', 'Check')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (44ms)
Date: Mon, 08 Aug 2011 09:32:20 +0800
From: Sam Ruby <from@example.com>
To: dave@example.org
Message-ID: <4e3f3ca4ea13d_24381c72b54105e6@SD-20110611IHAM.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:



We'll send you a separate e-mail when your order ships.

Redirected to http://test.host/en
Completed 302 Found in 71ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/en/orders
Completed 302 Found in 8ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (8.0ms)
Completed 200 OK in 92ms (Views: 89.0ms | ActiveRecord: 9.0ms)
  [1m[36mOrder Load (1.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 35ms (Views: 31.0ms | ActiveRecord: 1.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:21.149792', '2011-08-08 01:32:21.149792')[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "updated_at", "quantity", "product_id", "created_at", "order_id") VALUES (980190963, '2011-08-08 01:32:21.157792', 1, 207281424, '2011-08-08 01:32:21.157792', NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (4.0ms)
Completed 200 OK in 29ms (Views: 26.0ms | ActiveRecord: 4.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 42ms (Views: 40.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (1.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "updated_at"=>Mon, 08 Aug 2011 01:32:16 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/en/orders/980190962
Completed 302 Found in 5ms
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "products" ("title", "description", "created_at", "price", "updated_at", "image_url") VALUES ('Lorem Ipsum', 'Wibbles are fun!', '2011-08-08 01:32:21.402806', 19.95, '2011-08-08 01:32:21.402806', 'lorem.jpg')[0m
Redirected to http://test.host/en/products/980190963
Completed 302 Found in 102ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (2.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products
Completed 302 Found in 11ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (10.0ms)
Completed 200 OK in 94ms (Views: 91.0ms | ActiveRecord: 15.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 57ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (7.0ms)
Completed 200 OK in 55ms (Views: 53.0ms | ActiveRecord: 1.0ms)
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 3.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"Lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'Lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "products" SET "title" = 'Lorem Ipsum', "description" = 'Wibbles are fun!', "price" = 19.95, "updated_at" = '2011-08-08 01:32:21.750826', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/en/products/980190962
Completed 302 Found in 12ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 3ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login?locale=en
Completed 302 Found in 2ms
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 1ms
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 5.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin?locale=en
Completed 302 Found in 2ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/en
Completed 302 Found in 2ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:32:21.879834', '2011-08-08 01:32:21.879834')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 48ms (Views: 43.0ms | ActiveRecord: 4.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (5.0ms)[0m  [1mINSERT INTO "users" ("updated_at", "salt", "created_at", "name", "hashed_password") VALUES ('2011-08-08 01:32:21.956838', '510283680.178230687375519', '2011-08-08 01:32:21.956838', 'sam', '4fb4bbdcb7968590a4ff3eebe076797536973ab171b58996e17b0face3f913c9')[0m
Redirected to http://test.host/en/users
Completed 302 Found in 15ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/en/users
Completed 302 Found in 8ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (5.0ms)
Completed 200 OK in 52ms (Views: 49.0ms | ActiveRecord: 7.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (5.0ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 26ms (Views: 23.0ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (2.0ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-08-08 01:32:22.177851', "salt" = '413508720.931214370634817', "name" = 'sam', "hashed_password" = '66bb7ede9453710b43438bd6684d9c7c192ec3e28df370f2671cca384c7b36a6' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/en/users
Completed 302 Found in 10ms
  [1m[36mAREL (1.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (1.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Mon Aug 08 09:33:45 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (1.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:33:45.991645', '2011-08-08 01:33:45.991645')
  [1m[36mSQL (1.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (620.0ms)
Completed 200 OK in 793ms (Views: 747.0ms | ActiveRecord: 9.0ms)


Started POST "/line_items" for 127.0.0.1 at Mon Aug 08 09:33:46 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (1.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "line_items" ("updated_at", "cart_id", "quantity", "product_id", "order_id", "created_at") VALUES ('2011-08-08 01:33:46.838693', 980190963, 1, 207281424, NULL, '2011-08-08 01:33:46.838693')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (6.0ms)
Rendered carts/_cart.html.erb (36.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (50.0ms)
Completed 200 OK in 260ms (Views: 198.0ms | ActiveRecord: 3.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Mon Aug 08 09:33:47 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (2.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (31.0ms)
Rendered orders/new.html.erb within layouts/application (49.0ms)
Completed 200 OK in 79ms (Views: 72.0ms | ActiveRecord: 3.0ms)


Started POST "/orders" for 127.0.0.1 at Mon Aug 08 09:33:47 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("pay_type", "address", "created_at", "name", "updated_at", "email") VALUES ('Check', '123 The Street', '2011-08-08 01:33:47.153711', 'Dave Thomas', '2011-08-08 01:33:47.153711', 'dave@example.com')
  [1m[36mAREL (1.0ms)[0m  [1mUPDATE "line_items" SET "updated_at" = '2011-08-08 01:33:47.156711', "cart_id" = NULL, "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (1.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (2.0ms)
Rendered notifier/order_received.text.erb (15.0ms)

Sent mail to dave@example.com (469ms)
Date: Mon, 08 Aug 2011 09:33:48 +0800
From: Sam Ruby <from@example.com>
To: dave@example.com
Message-ID: <4e3f3cfbd35d8_260c12e2b54420f7@SD-20110611IHAM.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas

Thank you for your recent order from The Pragmatic Store.

You ordered the following items:

 1 x Programming Ruby 1.9



We'll send you a separate e-mail when your order ships.

Redirected to http://www.example.com/en
Completed 302 Found in 871ms


Started GET "/en" for 127.0.0.1 at Mon Aug 08 09:33:48 +0800 2011
  Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (1.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-08-08 01:33:48.026761', '2011-08-08 01:33:48.026761')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
